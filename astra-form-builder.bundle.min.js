(function(m,C){typeof exports=="object"&&typeof module<"u"?C(exports):typeof define=="function"&&define.amd?define(["exports"],C):(m=typeof globalThis<"u"?globalThis:m||self,C(m.AstraFormBuilder={}))})(void 0,function(m){"use strict";class C{constructor(){this.events=new Map}on(e,t){this.events.has(e)||this.events.set(e,[]),this.events.get(e).push(t)}emit(e,t){const r=this.events.get(e);r&&r.forEach(a=>a(t))}off(e,t){if(!t){this.events.delete(e);return}const r=this.events.get(e);if(r){const a=r.indexOf(t);a>-1&&r.splice(a,1)}}removeAllListeners(){this.events.clear()}}class v{constructor(){this.elements=new Map,this.initializeDefaultElements()}getStandardMeta(e={}){return{...v.STANDARD_META,...e}}getStandardEvents(e={}){return{...v.STANDARD_EVENTS,...e}}getStandardAlpine(e={}){return{...v.STANDARD_ALPINE,...e}}initializeDefaultElements(){this.register({id:"row",htmlTag:"row",label:"Row",icon:"\u{1F4D0}",category:"layout",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},columns:{type:"select",label:"Number of Columns",defaultValue:1,options:[{label:"1 Column",value:1},{label:"2 Columns",value:2},{label:"3 Columns",value:3},{label:"4 Columns",value:4}]}}}),this.register({id:"column",htmlTag:"column",label:"Column",icon:"\u{1F4CF}",category:"layout",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},width:{type:"select",label:"Width",defaultValue:12,options:[{label:"1/12",value:1},{label:"2/12",value:2},{label:"3/12",value:3},{label:"4/12",value:4},{label:"6/12",value:6},{label:"8/12",value:8},{label:"9/12",value:9},{label:"12/12",value:12}]}}}),this.register({id:"form",htmlTag:"form",label:"Form",icon:"\u{1F4CB}",category:"layout",properties:{id:{type:"text",label:"Form ID",defaultValue:"form",required:!0},name:{type:"text",label:"Form Name",defaultValue:"",required:!0},action:{type:"text",label:"Action URL",defaultValue:""},method:{type:"select",label:"Method",defaultValue:"post",options:[{label:"POST",value:"post"},{label:"GET",value:"get"}]},enctype:{type:"select",label:"Encoding Type",defaultValue:"application/x-www-form-urlencoded",options:[{label:"URL Encoded",value:"application/x-www-form-urlencoded"},{label:"Multipart Form Data",value:"multipart/form-data"},{label:"Plain Text",value:"text/plain"}]},target:{type:"select",label:"Target",defaultValue:"_self",options:[{label:"Same Window",value:"_self"},{label:"New Window",value:"_blank"},{label:"Parent Frame",value:"_parent"},{label:"Top Frame",value:"_top"}]},autocomplete:{type:"select",label:"Autocomplete",defaultValue:"on",options:[{label:"On",value:"on"},{label:"Off",value:"off"}]},novalidate:{type:"boolean",label:"No Validation",defaultValue:!1},class:{type:"text",label:"CSS Classes",defaultValue:""}},meta:{},events:{onSubmit:{type:"event",label:"On Submit",defaultValue:{action:"submitForm",target:"vanilla",parameters:{}}},onReset:{type:"event",label:"On Reset",defaultValue:{action:"resetForm",target:"vanilla",parameters:{}}}},alpine:{}}),this.register({id:"input-text",htmlTag:"input",label:"Text Input",icon:"\u{1F4DD}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"text"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},placeholder:{type:"text",label:"Placeholder",defaultValue:""},required:{type:"boolean",label:"Required",defaultValue:!1},maxLength:{type:"number",label:"Max Characters",defaultValue:100}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Text Field"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-email",htmlTag:"input",label:"Email",icon:"\u{1F4E7}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"email"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},placeholder:{type:"text",label:"Placeholder",defaultValue:"your@email.com"},required:{type:"boolean",label:"Required",defaultValue:!0}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Email"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4E7}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"textarea",htmlTag:"textarea",label:"Long Text",icon:"\u{1F4C4}",category:"form",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},placeholder:{type:"text",label:"Placeholder",defaultValue:""},rows:{type:"number",label:"Rows",defaultValue:4},required:{type:"boolean",label:"Required",defaultValue:!1},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Long Text"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4C4}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"select",htmlTag:"select",label:"Select",icon:"\u{1F4CB}",category:"form",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},options:{type:"textarea",label:"Options (one per line)",defaultValue:`Option 1
Option 2
Option 3`,description:"Enter one option per line"},required:{type:"boolean",label:"Required",defaultValue:!1},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Select an option"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4CB}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-number",htmlTag:"input",label:"Number",icon:"\u{1F522}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"number"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},placeholder:{type:"text",label:"Placeholder",defaultValue:""},min:{type:"number",label:"Min Value",defaultValue:0},max:{type:"number",label:"Max Value",defaultValue:100},required:{type:"boolean",label:"Required",defaultValue:!1}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Number"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F522}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"checkbox",htmlTag:"checkbox",label:"Checkbox",icon:"\u2611\uFE0F",category:"form",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},value:{type:"text",label:"Value",defaultValue:"1"},checked:{type:"boolean",label:"Checked by default",defaultValue:!1},required:{type:"boolean",label:"Required",defaultValue:!1},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Check this option"},icon:{type:"text",label:"Icon",defaultValue:"\u2611\uFE0F"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-password",htmlTag:"input",label:"Password",icon:"\u{1F512}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"password"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},placeholder:{type:"text",label:"Placeholder",defaultValue:""},required:{type:"boolean",label:"Required",defaultValue:!1},minLength:{type:"number",label:"Min Length",defaultValue:0},maxLength:{type:"number",label:"Max Length",defaultValue:100},autocomplete:{type:"select",label:"Autocomplete",defaultValue:"current-password",options:[{label:"Current Password",value:"current-password"},{label:"New Password",value:"new-password"},{label:"Off",value:"off"}]}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Password"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F512}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-radio",htmlTag:"input",label:"Radio Button",icon:"\u{1F518}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"radio"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},value:{type:"text",label:"Value",defaultValue:""}},meta:this.getStandardMeta({icon:{type:"text",label:"Icon",defaultValue:"\u{1F518}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"button",htmlTag:"button",label:"Button",icon:"\u{1F532}",category:"form",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},type:{type:"select",label:"Type",defaultValue:"button",options:[{label:"Button",value:"button"},{label:"Submit",value:"submit"},{label:"Reset",value:"reset"}]},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:this.getStandardMeta({icon:{type:"text",label:"Icon",defaultValue:"\u{1F532}"}}),events:this.getStandardEvents({onClick:{type:"event",label:"On Click (click)",defaultValue:{action:"submit",target:"vanilla",parameters:{}}}}),alpine:this.getStandardAlpine()}),this.register({id:"input-submit",htmlTag:"input",label:"Submit Button",icon:"\u{1F532}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"submit"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:this.getStandardMeta({icon:{type:"text",label:"Icon",defaultValue:"\u{1F532}"}}),events:this.getStandardEvents({onClick:{type:"event",label:"On Click (click)",defaultValue:{action:"submit",target:"vanilla",parameters:{}}}}),alpine:this.getStandardAlpine()}),this.register({id:"input-reset",htmlTag:"input",label:"Reset Button",icon:"\u{1F532}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"reset"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:this.getStandardMeta({icon:{type:"text",label:"Icon",defaultValue:"\u{1F532}"}}),events:this.getStandardEvents({onClick:{type:"event",label:"On Click (click)",defaultValue:{action:"submit",target:"vanilla",parameters:{}}}}),alpine:this.getStandardAlpine()}),this.register({id:"input-url",htmlTag:"input",label:"URL",icon:"\u{1F310}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"url"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},placeholder:{type:"text",label:"Placeholder",defaultValue:"https://example.com"},required:{type:"boolean",label:"Required",defaultValue:!1}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Website URL"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F310}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-tel",htmlTag:"input",label:"Telephone",icon:"\u{1F4DE}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"tel"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},placeholder:{type:"text",label:"Placeholder",defaultValue:"+1 (555) 123-4567"},pattern:{type:"text",label:"Pattern (Regex)",defaultValue:""},required:{type:"boolean",label:"Required",defaultValue:!1},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Phone Number"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4DE}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-search",htmlTag:"input",label:"Search",icon:"\u{1F50D}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"search"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},placeholder:{type:"text",label:"Placeholder",defaultValue:"Search..."},required:{type:"boolean",label:"Required",defaultValue:!1}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Search"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F50D}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-date",htmlTag:"input",label:"Date",icon:"\u{1F4C5}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"date"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},min:{type:"text",label:"Min Date",defaultValue:""},max:{type:"text",label:"Max Date",defaultValue:""},required:{type:"boolean",label:"Required",defaultValue:!1}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Date"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4C5}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-time",htmlTag:"input",label:"Time",icon:"\u{1F550}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"time"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},min:{type:"text",label:"Min Time",defaultValue:""},max:{type:"text",label:"Max Time",defaultValue:""},step:{type:"number",label:"Step (seconds)",defaultValue:60},required:{type:"boolean",label:"Required",defaultValue:!1}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Time"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F550}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-datetime-local",htmlTag:"input",label:"Date & Time",icon:"\u{1F4C5}\u{1F550}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"datetime-local"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},min:{type:"text",label:"Min DateTime",defaultValue:""},max:{type:"text",label:"Max DateTime",defaultValue:""},required:{type:"boolean",label:"Required",defaultValue:!1}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Date & Time"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4C5}\u{1F550}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-month",htmlTag:"input",label:"Month",icon:"\u{1F4C6}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"month"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},min:{type:"text",label:"Min Month",defaultValue:""},max:{type:"text",label:"Max Month",defaultValue:""},required:{type:"boolean",label:"Required",defaultValue:!1}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Month"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4C6}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-week",htmlTag:"input",label:"Week",icon:"\u{1F5D3}\uFE0F",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"week"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},min:{type:"text",label:"Min Week",defaultValue:""},max:{type:"text",label:"Max Week",defaultValue:""},required:{type:"boolean",label:"Required",defaultValue:!1}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Week"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F5D3}\uFE0F"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-color",htmlTag:"input",label:"Color Picker",icon:"\u{1F3A8}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"color"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},value:{type:"text",label:"Default Color",defaultValue:"#000000"}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Choose Color"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F3A8}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-range",htmlTag:"input",label:"Range Slider",icon:"\u{1F39A}\uFE0F",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"range"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},min:{type:"number",label:"Min Value",defaultValue:0},max:{type:"number",label:"Max Value",defaultValue:100},step:{type:"number",label:"Step",defaultValue:1},value:{type:"number",label:"Default Value",defaultValue:50}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Range"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F39A}\uFE0F"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-file",htmlTag:"input",label:"File Upload",icon:"\u{1F4C1}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"file"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},accept:{type:"text",label:"Accept File Types",defaultValue:"",description:"e.g., .jpg,.png,.pdf or image/*"},multiple:{type:"boolean",label:"Multiple Files",defaultValue:!1},required:{type:"boolean",label:"Required",defaultValue:!1}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Upload File"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4C1}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"input-hidden",htmlTag:"input",label:"Hidden Field",icon:"\u{1F648}",category:"form",properties:{type:{type:"fixed",label:"Type",defaultValue:"hidden"},id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},value:{type:"text",label:"Value",defaultValue:""}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Hidden Field"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F648}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"fieldset",htmlTag:"fieldset",label:"Fieldset",icon:"\u{1F5C2}\uFE0F",category:"form",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},disabled:{type:"boolean",label:"Disabled",defaultValue:!1}},meta:this.getStandardMeta({label:{type:"text",label:"Legend",defaultValue:"Group"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F5C2}\uFE0F"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"legend",htmlTag:"legend",label:"Legend",icon:"\u{1F4CB}",category:"form",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0}},meta:this.getStandardMeta({label:{type:"text",label:"Text",defaultValue:"Legend Text"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4CB}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"label",htmlTag:"label",label:"Label",icon:"\u{1F3F7}\uFE0F",category:"form",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},for:{type:"text",label:"For (Target Input ID)",defaultValue:""}},meta:this.getStandardMeta({label:{type:"text",label:"Text",defaultValue:"Label Text"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F3F7}\uFE0F"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"datalist",htmlTag:"datalist",label:"Datalist",icon:"\u{1F4DD}\u{1F4CB}",category:"form",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},options:{type:"textarea",label:"Options (one per line)",defaultValue:`Option 1
Option 2
Option 3`,description:"Enter one option per line"}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Suggestions"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4DD}\u{1F4CB}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"output",htmlTag:"output",label:"Output",icon:"\u{1F4E4}",category:"form",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},name:{type:"text",label:"Name",defaultValue:"",required:!0},for:{type:"text",label:"For (Related Input IDs)",defaultValue:"",description:"Space-separated list of related input IDs"}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Result"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4E4}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"progress",htmlTag:"progress",label:"Progress Bar",icon:"\u{1F4CA}",category:"form",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},value:{type:"number",label:"Value",defaultValue:50},max:{type:"number",label:"Max Value",defaultValue:100}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Progress"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4CA}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"meter",htmlTag:"meter",label:"Meter",icon:"\u{1F4CF}\u{1F4CA}",category:"form",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},value:{type:"number",label:"Value",defaultValue:6},min:{type:"number",label:"Min Value",defaultValue:0},max:{type:"number",label:"Max Value",defaultValue:10},low:{type:"number",label:"Low Threshold",defaultValue:3},high:{type:"number",label:"High Threshold",defaultValue:8},optimum:{type:"number",label:"Optimum Value",defaultValue:9}},meta:this.getStandardMeta({label:{type:"text",label:"Label",defaultValue:"Meter"},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4CF}\u{1F4CA}"}}),events:this.getStandardEvents(),alpine:this.getStandardAlpine()}),this.register({id:"h1",htmlTag:"h1",label:"Heading 1",icon:"\u{1F4F0}",category:"content",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:{innerHTML:{type:"textarea",label:"Content",defaultValue:"Main Heading"}},events:{},alpine:{}}),this.register({id:"h2",htmlTag:"h2",label:"Heading 2",icon:"\u{1F4C4}",category:"content",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:{innerHTML:{type:"textarea",label:"Content",defaultValue:"Section Heading"}},events:{},alpine:{}}),this.register({id:"h3",htmlTag:"h3",label:"Heading 3",icon:"\u{1F4C3}",category:"content",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:{innerHTML:{type:"textarea",label:"Content",defaultValue:"Subsection Heading"}},events:{},alpine:{}}),this.register({id:"h4",htmlTag:"h4",label:"Heading 4",icon:"\u{1F4DD}",category:"content",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:{innerHTML:{type:"textarea",label:"Content",defaultValue:"Minor Heading"}},events:{},alpine:{}}),this.register({id:"h5",htmlTag:"h5",label:"Heading 5",icon:"\u{1F4DC}",category:"content",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:{innerHTML:{type:"textarea",label:"Content",defaultValue:"Small Heading"}},events:{},alpine:{}}),this.register({id:"h6",htmlTag:"h6",label:"Heading 6",icon:"\u{1F5D2}\uFE0F",category:"content",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:{innerHTML:{type:"textarea",label:"Content",defaultValue:"Smallest Heading"}},events:{},alpine:{}}),this.register({id:"paragraph",htmlTag:"p",label:"Paragraph",icon:"\u{1F4C3}",category:"content",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:{innerHTML:{type:"textarea",label:"Content",defaultValue:"This is a paragraph of text."}},events:{},alpine:{}}),this.register({id:"pre",htmlTag:"pre",label:"Preformatted Text",icon:"\u{1F4C4}",category:"content",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:{innerHTML:{type:"textarea",label:"Content",defaultValue:`This is preformatted text.
  Spaces and line breaks
    are preserved exactly.`}},events:{},alpine:{}}),this.register({id:"code",htmlTag:"code",label:"Code",icon:"\u{1F4BB}",category:"content",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:"language-javascript"},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:{innerHTML:{type:"textarea",label:"Content",defaultValue:'console.log("Hello, World!");'}},events:{},alpine:{}}),this.register({id:"blockquote",htmlTag:"blockquote",label:"Blockquote",icon:"\u{1F4AC}",category:"content",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},cite:{type:"text",label:"Citation URL",defaultValue:""},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:this.getStandardMeta({label:{type:"textarea",label:"Quote Text",defaultValue:"This is a quotation from another source."},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4AC}"},author:{type:"text",label:"Author",defaultValue:""}})}),this.register({id:"hr",htmlTag:"hr",label:"Horizontal Rule",icon:"\u2796",category:"content",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:{},events:{},alpine:{}}),this.register({id:"br",htmlTag:"br",label:"Line Break",icon:"\u21A9\uFE0F",category:"content",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:""}}}),this.register({id:"div",htmlTag:"div",label:"Division",icon:"\u{1F4E6}",category:"content",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:this.getStandardMeta({innerHTML:{type:"textarea",label:"Content",defaultValue:"Container content"}})}),this.register({id:"span",htmlTag:"span",label:"Span",icon:"\u{1F3F7}\uFE0F",category:"content",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}},meta:{innerHTML:{type:"textarea",label:"Content",defaultValue:"Inline text"}},events:{},alpine:{}}),this.register({id:"image",htmlTag:"img",label:"Image",icon:"\u{1F5BC}\uFE0F",category:"media",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},src:{type:"text",label:"Source URL",defaultValue:"https://via.placeholder.com/300x200",required:!0},alt:{type:"text",label:"Alt Text",defaultValue:"Placeholder image",required:!0},width:{type:"number",label:"Width",defaultValue:300},height:{type:"number",label:"Height",defaultValue:200},title:{type:"text",label:"Title (Tooltip)",defaultValue:""},loading:{type:"select",label:"Loading",defaultValue:"lazy",options:[{value:"lazy",label:"Lazy"},{value:"eager",label:"Eager"}]},decoding:{type:"select",label:"Decoding",defaultValue:"auto",options:[{value:"auto",label:"Auto"},{value:"sync",label:"Sync"},{value:"async",label:"Async"}]},crossorigin:{type:"select",label:"Cross Origin",defaultValue:"",options:[{value:"",label:"None"},{value:"anonymous",label:"Anonymous"},{value:"use-credentials",label:"Use Credentials"}]},referrerpolicy:{type:"select",label:"Referrer Policy",defaultValue:"",options:[{value:"",label:"Default"},{value:"no-referrer",label:"No Referrer"},{value:"no-referrer-when-downgrade",label:"No Referrer When Downgrade"},{value:"origin",label:"Origin"},{value:"origin-when-cross-origin",label:"Origin When Cross Origin"},{value:"same-origin",label:"Same Origin"},{value:"strict-origin",label:"Strict Origin"},{value:"strict-origin-when-cross-origin",label:"Strict Origin When Cross Origin"},{value:"unsafe-url",label:"Unsafe URL"}]},sizes:{type:"text",label:"Sizes",defaultValue:"",description:"e.g., (max-width: 600px) 100vw, 50vw"},srcset:{type:"textarea",label:"Srcset (Responsive Images)",defaultValue:"",description:"e.g., small.jpg 480w, medium.jpg 800w, large.jpg 1200w"},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}}}),this.register({id:"video",htmlTag:"video",label:"Video",icon:"\u{1F3A5}",category:"media",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},src:{type:"text",label:"Source URL",defaultValue:""},controls:{type:"boolean",label:"Show Controls",defaultValue:!0},autoplay:{type:"boolean",label:"Autoplay",defaultValue:!1},muted:{type:"boolean",label:"Muted",defaultValue:!1},loop:{type:"boolean",label:"Loop",defaultValue:!1},poster:{type:"text",label:"Poster Image URL",defaultValue:""},width:{type:"number",label:"Width",defaultValue:640},height:{type:"number",label:"Height",defaultValue:360}}}),this.register({id:"audio",htmlTag:"audio",label:"Audio",icon:"\u{1F3B5}",category:"media",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},src:{type:"text",label:"Source URL",defaultValue:""},controls:{type:"boolean",label:"Show Controls",defaultValue:!0},autoplay:{type:"boolean",label:"Autoplay",defaultValue:!1},muted:{type:"boolean",label:"Muted",defaultValue:!1},loop:{type:"boolean",label:"Loop",defaultValue:!1}}}),this.register({id:"iframe",htmlTag:"iframe",label:"IFrame",icon:"\u{1F5BC}\uFE0F\u{1F4F1}",category:"media",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},src:{type:"text",label:"Source URL",defaultValue:"https://www.example.com"},width:{type:"number",label:"Width",defaultValue:640},height:{type:"number",label:"Height",defaultValue:480},frameborder:{type:"select",label:"Frame Border",defaultValue:"0",options:[{value:"0",label:"No Border"},{value:"1",label:"With Border"}]},allowfullscreen:{type:"boolean",label:"Allow Fullscreen",defaultValue:!1},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}}}),this.register({id:"canvas",htmlTag:"canvas",label:"Canvas",icon:"\u{1F3A8}",category:"media",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},width:{type:"number",label:"Width",defaultValue:300},height:{type:"number",label:"Height",defaultValue:150},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}}}),this.register({id:"svg",htmlTag:"svg",label:"SVG",icon:"\u{1F58C}\uFE0F",category:"media",properties:{id:{type:"text",label:"ID",defaultValue:"",required:!0},width:{type:"number",label:"Width",defaultValue:100},height:{type:"number",label:"Height",defaultValue:100},viewBox:{type:"text",label:"ViewBox",defaultValue:"0 0 100 100"},class:{type:"text",label:"CSS Class",defaultValue:""},style:{type:"text",label:"Inline Style",defaultValue:""}}})}register(e){this.elements.set(e.id,e)}unregister(e){this.elements.delete(e)}get(e){return this.elements.get(e)}getAll(){return Array.from(this.elements.values())}getByCategory(e){return this.getAll().filter(t=>t.category===e)}has(e){return this.elements.has(e)}static validateRegistry(e){try{for(const[t,r]of Object.entries(e)){if(!r.id||r.id!==t)throw new Error(`Element "${t}": Invalid or missing ID`);if(!r.htmlTag||typeof r.htmlTag!="string")throw new Error(`Element "${t}": Invalid or missing htmlTag`);if(!r.label||typeof r.label!="string")throw new Error(`Element "${t}": Invalid or missing label`);if(r.properties&&typeof r.properties!="object")throw new Error(`Element "${t}": Properties must be an object`);if(r.meta&&typeof r.meta!="object")throw new Error(`Element "${t}": Meta must be an object`);if(r.events&&typeof r.events!="object")throw new Error(`Element "${t}": Events must be an object`);if(r.alpine&&typeof r.alpine!="object")throw new Error(`Element "${t}": Alpine must be an object`)}return!0}catch(t){const r=t instanceof Error?t.message:"Unknown validation error";return console.error("ElementRegistry validation failed:",r),!1}}loadCustomRegistry(e){if(!v.validateRegistry(e))throw new Error("Invalid registry configuration");this.elements.clear();for(const t of Object.values(e))this.register(t)}toJSON(){const e={};for(const[t,r]of this.elements)e[t]=r;return e}}v.STANDARD_META={label:{type:"text",label:"Label",defaultValue:"Field",required:!0},hint:{type:"text",label:"Hint",defaultValue:""},helperText:{type:"textarea",label:"Helper Text",defaultValue:""},icon:{type:"text",label:"Icon",defaultValue:"\u{1F4DD}"},wrapperClasses:{type:"css-classes",label:"CSS Classes",defaultValue:[]},validation:{type:"textarea",label:"Validation Rules",defaultValue:"",description:"JSON validation rules"}},v.STANDARD_EVENTS={onChange:{type:"event",label:"On Change (change)",defaultValue:{action:"",target:"vanilla",parameters:{}}},onInput:{type:"event",label:"On Input (input)",defaultValue:{action:"",target:"vanilla",parameters:{}}},onFocus:{type:"event",label:"On Focus (focus)",defaultValue:{action:"",target:"vanilla",parameters:{}}},onBlur:{type:"event",label:"On Blur (blur)",defaultValue:{action:"",target:"vanilla",parameters:{}}},onClick:{type:"event",label:"On Click (click)",defaultValue:{action:"",target:"vanilla",parameters:{}}},onKeyDown:{type:"event",label:"On Key Down (keydown)",defaultValue:{action:"",target:"vanilla",parameters:{}}},onKeyUp:{type:"event",label:"On Key Up (keyup)",defaultValue:{action:"",target:"vanilla",parameters:{}}},onSubmit:{type:"event",label:"On Submit (submit)",defaultValue:{action:"",target:"vanilla",parameters:{}}}},v.STANDARD_ALPINE={"x-model":{type:"alpine",label:"x-model",defaultValue:""},"x-data":{type:"alpine",label:"x-data",defaultValue:""},"x-show":{type:"alpine",label:"x-show",defaultValue:""},"x-if":{type:"alpine",label:"x-if",defaultValue:""}};class D{constructor(){this.events=new Map}on(e,t){this.events.has(e)||this.events.set(e,[]),this.events.get(e).push(t)}off(e,t){const r=this.events.get(e);if(r){const a=r.indexOf(t);a>-1&&r.splice(a,1)}}emit(e,t){const r=this.events.get(e);r&&r.forEach(a=>a(t))}}class b{static generateId(){return"element_"+Math.random().toString(36).substr(2,9)+"_"+Date.now().toString(36)}static createElement(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstElementChild}static debounce(e,t){let r;return(...a)=>{clearTimeout(r),r=window.setTimeout(()=>e.apply(this,a),t)}}static deepClone(e){return JSON.parse(JSON.stringify(e))}static formatDate(e){return e.toISOString()}}class L extends D{constructor(e){super(),this.container=e,this.currentElement=null,this.currentConfig=null,this.currentElementType=null}canHaveExtendedProperties(e,t){return this.currentElementType==="row"||this.currentElementType==="column"?!1:this.currentElementType==="form"||this.currentElementType==="field"?!0:t&&(t.category==="form"||t.category==="content")}showProperties(e,t,r){this.currentElement=e,this.currentConfig=t,this.currentElementType=r,console.log("=== PropertyPanel Debug ==="),console.log("Element:",e),console.log("Config:",t),console.log("Element Type:",r),console.log("Config Category:",t.category),console.log("Can have extended props:",this.canHaveExtendedProperties(e,t)),console.log("Meta config keys:",t.meta?Object.keys(t.meta):"No meta"),this.render()}hideProperties(){this.currentElement=null,this.currentConfig=null,this.container.innerHTML='<p class="no-selection">Select an element to edit its properties</p>'}render(){if(!this.currentElement||!this.currentConfig){this.hideProperties();return}const e=`
            <div class="properties-content">
                <div class="property-group">
                    <div class="element-header-with-delete">
                        <h4>Element: ${this.currentConfig.label}</h4>
                        <button type="button" class="btn-delete-element" id="deleteElement" title="Delete Element">
                            \u{1F5D1}\uFE0F
                        </button>
                    </div>
                </div>
                
                ${this.renderGroupedProperties()}
            </div>
        `;this.container.innerHTML=e,this.attachEventListeners()}renderGroupedProperties(){if(!this.currentConfig||!this.currentElement)return"";const e=[{key:"properties",label:"Properties",icon:"\u2699\uFE0F",config:this.currentConfig.properties||{}},{key:"meta",label:"Meta",icon:"\u{1F4CB}",config:this.currentConfig.meta||{}},{key:"events",label:"Events",icon:"\u26A1",config:this.currentConfig.events||{}},{key:"alpine",label:"Alpine",icon:"\u{1F3D4}\uFE0F",config:this.currentConfig.alpine||{}}];return console.log("PropertyPanel groups before filter:",e.map(t=>({key:t.key,configKeys:Object.keys(t.config),hasConfig:Object.keys(t.config).length>0}))),console.log("Element category:",this.currentConfig.category),console.log("Can have extended properties:",this.currentElement&&this.currentConfig&&this.canHaveExtendedProperties(this.currentElement,this.currentConfig)),e.filter(t=>Object.keys(t.config).length>0).map(t=>this.renderPropertyGroup(t.key,t.label,t.icon,t.config)).join("")}renderPropertyGroup(e,t,r,a){const n=`group-${e}`,s=Object.entries(a).map(([l,i])=>this.renderPropertyField(l,i,e)).join("");return`
            <div class="property-group">
                <div class="group-header" data-group="${e}">
                    <span class="group-icon">${r}</span>
                    <span class="group-title">${t}</span>
                    <span class="group-toggle">\u25BC</span>
                </div>
                <div class="group-content" id="${n}">
                    ${s}
                </div>
            </div>
        `}getPropertyValue(e,t,r){if(!this.currentElement||!this.currentConfig)return r.defaultValue??"";let a;switch(t){case"properties":a=this.currentElement.properties;break;case"meta":this.canHaveExtendedProperties(this.currentElement,this.currentConfig)&&(a=this.currentElement.meta);break;case"events":this.canHaveExtendedProperties(this.currentElement,this.currentConfig)&&(a=this.currentElement.events);break;case"alpine":this.canHaveExtendedProperties(this.currentElement,this.currentConfig)&&(a=this.currentElement.alpine);break;default:a=this.currentElement.properties}return a?.[e]??r.defaultValue??""}renderProperties(){return!this.currentConfig||!this.currentElement?"":Object.entries(this.currentConfig.properties||{}).map(([e,t])=>this.renderPropertyField(e,t,"properties")).join("")}renderPropertyField(e,t,r="properties"){const a=this.getPropertyValue(e,r,t),n=`prop_${r}_${e}`;let s="";switch(t.type){case"text":s=`<input type="text" id="${n}" value="${this.escapeHtml(a)}" />`;break;case"textarea":s=`<textarea id="${n}" rows="3">${this.escapeHtml(a)}</textarea>`;break;case"number":s=`<input type="number" id="${n}" value="${a}" />`;break;case"boolean":s=`
                    <label class="switch">
                        <input type="checkbox" id="${n}" ${a?"checked":""} />
                        <span class="slider"></span>
                    </label>
                `;break;case"select":const o=(t.options||[]).map(u=>`<option value="${this.escapeHtml(u.value)}" ${u.value===a?"selected":""}>${this.escapeHtml(u.label)}</option>`).join("");s=`<select id="${n}">${o}</select>`;break;case"color":s=`<input type="color" id="${n}" value="${a}" />`;break;case"event":const d=typeof a=="object"?a:{action:"",target:"vanilla",parameters:{}};s=`
                    <div class="event-config">
                        <input type="text" id="${n}_action" placeholder="Action" value="${this.escapeHtml(d.action||"")}" />
                        <select id="${n}_target">
                            <option value="vanilla" ${d.target==="vanilla"?"selected":""}>Vanilla JS</option>
                            <option value="alpine" ${d.target==="alpine"?"selected":""}>Alpine.js</option>
                            <option value="livewire" ${d.target==="livewire"?"selected":""}>Livewire</option>
                        </select>
                    </div>
                `;break;case"alpine":s=`<input type="text" id="${n}" value="${this.escapeHtml(a)}" placeholder="Alpine.js directive" />`;break;case"css-classes":const c=Array.isArray(a)?a.join(" "):String(a||"");s=`<input type="text" id="${n}" value="${this.escapeHtml(c)}" placeholder="CSS classes" />`;break;case"fixed":s=`<input type="text" id="${n}" value="${this.escapeHtml(a)}" readonly />`;break;default:s=`<input type="text" id="${n}" value="${this.escapeHtml(a)}" />`;break}const l=t.required?`<strong>${t.label} <span style="color: #e74c3c;">*</span></strong>`:t.label;return`
            <div class="property-field">
                <label for="${n}">${l}</label>
                <div class="property-value">
                    ${s}
                </div>
                ${t.description?`<small>${t.description}</small>`:""}
            </div>
        `}attachEventListeners(){if(!this.currentConfig||!this.currentElement)return;this.container.querySelectorAll(".group-header").forEach(r=>{r.addEventListener("click",a=>{const n=a.currentTarget.dataset.group;n&&this.toggleGroup(n)})}),["properties","meta","events","alpine"].forEach(r=>{const a=this.getGroupConfig(r);a&&Object.keys(a).forEach(n=>{const s=a[n];if(s.type==="fixed")return;const l=this.container.querySelector(`#prop_${r}_${n}`);if(l){const i=b.debounce(()=>{this.updateProperty(n,this.getInputValue(l),r)},150);l.addEventListener("input",i),l.addEventListener("change",()=>{this.updateProperty(n,this.getInputValue(l),r)})}if(s.type==="event"){const i=this.container.querySelector(`#prop_${r}_${n}_action`),o=this.container.querySelector(`#prop_${r}_${n}_target`);if(i&&o){const d=()=>{const c={action:i.value,target:o.value,parameters:{}};this.updateProperty(n,c,r)};i.addEventListener("input",b.debounce(d,150)),i.addEventListener("change",d),o.addEventListener("change",d)}}})});const t=this.container.querySelector("#deleteElement");t&&t.addEventListener("click",()=>{this.currentElement&&(this.emit("deleteElement",{elementId:this.currentElement.id}),this.hideProperties())})}toggleGroup(e){const t=this.container.querySelector(`#group-${e}`),r=this.container.querySelector(`[data-group="${e}"] .group-toggle`);if(t&&r){const a=t.style.display!=="none";t.style.display=a?"none":"block",r.textContent=a?"\u25B6":"\u25BC"}}getGroupConfig(e){if(!this.currentConfig)return null;switch(e){case"properties":return this.currentConfig.properties||{};case"meta":return this.currentConfig.meta||{};case"events":return this.currentConfig.events||{};case"alpine":return this.currentConfig.alpine||{};default:return null}}getInputValue(e){switch(e.type){case"checkbox":return e.checked;case"number":return parseFloat(e.value)||0;default:return e.value}}updateProperty(e,t,r="properties"){if(!this.currentElement||!this.currentConfig)return;let a;switch(r){case"properties":this.currentElement.properties||(this.currentElement.properties={}),a=this.currentElement.properties;break;case"meta":if(this.canHaveExtendedProperties(this.currentElement,this.currentConfig)){const n=this.currentElement;n.meta||(n.meta={}),a=n.meta}else{console.warn("Element cannot have meta properties:",this.currentElement);return}break;case"events":if(this.canHaveExtendedProperties(this.currentElement,this.currentConfig)){const n=this.currentElement;n.events||(n.events={}),a=n.events}else{console.warn("Element cannot have event properties:",this.currentElement);return}break;case"alpine":if(this.canHaveExtendedProperties(this.currentElement,this.currentConfig)){const n=this.currentElement;n.alpine||(n.alpine={}),a=n.alpine}else{console.warn("Element cannot have alpine properties:",this.currentElement);return}break;default:this.currentElement.properties||(this.currentElement.properties={}),a=this.currentElement.properties}a[e]=t,this.emit("propertyChanged",{elementId:this.currentElement.id,property:e,value:t,element:this.currentElement,section:r})}escapeHtml(e){return typeof e!="string"&&(e=String(e||"")),e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}getCurrentElement(){return this.currentElement}}class F extends D{constructor(e,t){super(),this.container=e,this.scopedDOM=t,this.draggedData=null,setTimeout(()=>{this.initializeDragAndDrop()},100)}initializeDragAndDrop(){this.setupDropZones()}setupDropZones(){const e=(t,r)=>{this.scopedDOM?this.scopedDOM.addEventListener(t,r):this.container.addEventListener(t,r)};e("dragstart",t=>{const r=t,a=r.target;if(this.scopedDOM&&!this.scopedDOM.validateOperation(a,"dragstart")){r.preventDefault();return}this.handleDragStart(r,a)}),e("dragover",t=>{const r=t,a=r.target;this.scopedDOM&&!this.scopedDOM.validateOperation(a,"dragover")||this.handleDragOver(r,a)}),e("dragleave",t=>{const r=t,a=r.target;this.scopedDOM&&!this.scopedDOM.validateOperation(a,"dragleave")||this.handleDragLeave(r,a)}),e("drop",t=>{const r=t,a=r.target;this.scopedDOM&&!this.scopedDOM.validateOperation(a,"drop")||this.handleDrop(r,a)}),e("dragend",t=>{const r=t,a=r.target;this.scopedDOM&&!this.scopedDOM.validateOperation(a,"dragend")||this.handleDragEnd(r,a)})}handleDragStart(e,t){const r=t.closest(".element-item");if(r){const s=r.dataset.elementType;if(s){this.draggedData={elementType:s,isNew:!0,sourceType:"toolbox"},this.emit("dragStart",this.draggedData),e.dataTransfer&&(e.dataTransfer.effectAllowed="copy",e.dataTransfer.setData("text/plain",s),e.dataTransfer.setData("application/x-drag-source","sidebar"));return}}const a=t.closest(".drag-handle-btn");if(a){const s=a.dataset.elementId,l=a.dataset.elementType;if(s&&l){this.draggedData={elementType:l,elementId:s,isNew:!1,sourceType:l},this.emit("dragStart",this.draggedData),e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("application/x-element-id",s),e.dataTransfer.setData("application/x-element-type",l),e.dataTransfer.setData("application/x-drag-source","internal"));return}}const n=t.closest(".form-element");if(n){const s=n.dataset.elementId,l=n.dataset.elementType;s&&l&&(this.draggedData={elementType:l,elementId:s,isNew:!1,sourceType:"field"},this.emit("dragStart",this.draggedData),e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("application/x-element-id",s),e.dataTransfer.setData("application/x-element-type",l),e.dataTransfer.setData("application/x-drag-source","internal")))}}handleDragOver(e,t){e.preventDefault();const r=t.closest(".drop-zone");r&&this.draggedData&&(r.classList.add("drag-over"),e.dataTransfer&&(e.dataTransfer.dropEffect=this.draggedData.isNew?"copy":"move"))}handleDragLeave(e,t){const r=t.closest(".drop-zone");if(r){const a=r.getBoundingClientRect(),n=e.clientX,s=e.clientY;(n<a.left||n>a.right||s<a.top||s>a.bottom)&&r.classList.remove("drag-over")}}handleDrop(e,t){e.preventDefault();const r=t.closest(".drop-zone");r&&r.classList.remove("drag-over"),this.draggedData&&this.emit("elementDropped",{data:this.draggedData,dropTarget:t,event:e}),this.clearDraggedData()}handleDragEnd(e,t){(this.scopedDOM?.getContainer()||this.container).querySelectorAll(".drag-over").forEach(a=>{a.classList.remove("drag-over")}),this.clearDraggedData()}clearDraggedData(){this.draggedData=null}getDraggedData(){return this.draggedData}setDraggedData(e){this.draggedData=e}isDragging(){return this.draggedData!==null}reset(){this.clearDraggedData(),(this.scopedDOM?.getContainer()||this.container).querySelectorAll(".drag-over, .dragging").forEach(t=>{t.classList.remove("drag-over","dragging")})}refresh(){}}class w{static export(e,t){const r=new Date;return{version:this.VERSION,rows:b.deepClone(e),metadata:{created:t?.created||b.formatDate(r),modified:b.formatDate(r),title:t?.title,description:t?.description}}}static import(e){let t;if(typeof e=="string")try{t=JSON.parse(e)}catch{throw new Error("Invalid JSON format")}else t=e;if("formElement"in t||"metadata"in t&&!("version"in t)){const a=t;if(!Array.isArray(a.rows))throw new Error("Invalid form data structure: rows must be an array");return a.rows.forEach((n,s)=>{if(!n.id||!Array.isArray(n.columns))throw new Error(`Invalid row at index ${s}: missing required fields`);n.columns.forEach((l,i)=>{if(!l.id||typeof l.width!="number"||!Array.isArray(l.fields))throw new Error(`Invalid column at row ${s}, column ${i}: missing required fields`)})}),b.deepClone(a)}const r=t;if(!r.version||!Array.isArray(r.rows))throw new Error("Invalid form data structure");return r.version!==this.VERSION&&console.warn(`Form data version ${r.version} may not be fully compatible with current version ${this.VERSION}`),r.rows.forEach((a,n)=>{if(!a.id||!Array.isArray(a.columns))throw new Error(`Invalid row at index ${n}: missing required fields`);a.columns.forEach((s,l)=>{if(!s.id||typeof s.width!="number"||!Array.isArray(s.fields))throw new Error(`Invalid column at row ${n}, column ${l}: missing required fields`)})}),b.deepClone(r.rows)}static download(e,t="form-layout.json",r){const a=this.export(e,r),n=JSON.stringify(a,null,2),s=new Blob([n],{type:"application/json"}),l=URL.createObjectURL(s),i=document.createElement("a");i.href=l,i.download=t,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(l)}static upload(){return new Promise((e,t)=>{const r=document.createElement("input");r.type="file",r.accept=".json",r.style.display="none",r.addEventListener("change",a=>{const n=a.target.files?.[0];if(!n){t(new Error("No file selected"));return}const s=new FileReader;s.onload=l=>{try{const i=l.target?.result,o=this.import(i);e(o)}catch(i){t(i)}},s.onerror=()=>{t(new Error("Failed to read file"))},s.readAsText(n)}),document.body.appendChild(r),r.click(),document.body.removeChild(r)})}static validate(e){if(!e||typeof e!="object"||!e.version||typeof e.version!="string"||!Array.isArray(e.rows)||!e.metadata||typeof e.metadata!="object")return!1;for(const t of e.rows){if(!t.id||!Array.isArray(t.columns))return!1;for(const r of t.columns){if(!r.id||typeof r.width!="number"||!Array.isArray(r.fields))return!1;for(const a of r.fields)if(!a.id||!a.type||!a.properties||typeof a.id!="string"||typeof a.type!="string"||typeof a.properties!="object")return!1}}return!0}static createPreview(e){if(e.length===0)return"Empty form";let t=0,r=0;e.forEach(n=>{r+=n.columns.length,n.columns.forEach(s=>{t+=s.fields.length})});const a=[];return e.length>0&&a.push(`${e.length} row${e.length>1?"s":""}`),r>0&&a.push(`${r} column${r>1?"s":""}`),t>0&&a.push(`${t} field${t>1?"s":""}`),a.join(", ")}}w.VERSION="0.1.0";class S{escapeHtml(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}formatAttributes(e){return Object.entries(e).filter(([t,r])=>r!=null&&r!=="").map(([t,r])=>`${t}="${this.escapeHtml(String(r))}"`).join(" ")}getFieldLabel(e){return e.meta?.label||e.properties?.label||""}getFieldName(e){return e.properties?.name||e.properties?.id||""}getFieldId(e){return e.properties?.id||""}}const k=["input","textarea","select","button"],A=["div","section","fieldset","form"],j=["h1","h2","h3","h4","h5","h6","p","span","hr"],_=["img","video","audio"],T={FORM:"form",LAYOUT:"layout",CONTENT:"content",MEDIA:"media"},z={"text-input":"text",text:"text","input-text":"text","email-input":"email",email:"email","password-input":"password",password:"password","number-input":"number",number:"number","url-input":"url",url:"url","tel-input":"tel",tel:"tel"},W={text:"Enter text...","text-input":"Enter text...","input-text":"Enter text...",email:"Enter email...","email-input":"Enter email...",password:"Enter password...","password-input":"Enter password...",number:"Enter number...","number-input":"Enter number...",url:"Enter URL...","url-input":"Enter URL...",tel:"Enter phone...","tel-input":"Enter phone...",textarea:"Enter text...",select:"Select an option..."};class h{static isFormControl(e){return k.includes(e)}static isLayoutElement(e){return A.includes(e)}static isContentElement(e){return j.includes(e)}static isMediaElement(e){return _.includes(e)}static supportsMetaLabel(e){return h.isFormControl(e)}static supportsValidation(e){return h.isFormControl(e)&&e!=="button"}static supportsPlaceholder(e){return["text","text-input","input-text","email","email-input","password","password-input","number","number-input","url","url-input","tel","tel-input","textarea"].includes(e)}static supportsOptions(e){return["select","radio","radio-group","checkbox-group"].includes(e)}static getHtmlInputType(e){return z[e]||"text"}static getDefaultPlaceholder(e){return W[e]||""}static getElementCategory(e){return h.isFormControl(e)?T.FORM:h.isLayoutElement(e)?T.LAYOUT:h.isContentElement(e)?T.CONTENT:h.isMediaElement(e)?T.MEDIA:"other"}static isValidElementType(e){return h.isFormControl(e)||h.isLayoutElement(e)||h.isContentElement(e)||h.isMediaElement(e)}static getAllFormControlTags(){return k}static getAllLayoutElementTags(){return A}static requiresNameAttribute(e){return h.isFormControl(e)&&e!=="button"}static canBeRequired(e){return h.supportsValidation(e)}}class M extends S{renderField(e,t={}){const{includeLabels:r=!0,includeWrapper:a=!0}=t;let n="";if(a&&(n+=`<div class="preview-field">
`),r&&e.meta?.label&&this.isFormControl(e.htmlTag)){const s=e.properties.required;n+='  <div class="field-preview-label">',n+=this.escapeHtml(e.meta.label),s&&(n+=' <span class="required">*</span>'),n+=`</div>
`}switch(e.htmlTag){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"p":case"span":case"pre":case"code":case"blockquote":case"div":const s=e.meta?.innerHTML||`${e.htmlTag.toUpperCase()} Content`;n+=`  <${e.htmlTag} class="field-preview-content">${this.escapeHtml(s)}</${e.htmlTag}>
`;break;case"hr":n+=`  <hr class="field-preview-content" />
`;break;case"img":const l=e.properties?.src||"https://via.placeholder.com/300x200",i=e.properties?.alt||"Image";n+=`  <img src="${this.escapeHtml(l)}" alt="${this.escapeHtml(i)}" class="field-preview-media" style="max-width: 100%; height: auto;" />
`;break;case"video":const o=e.properties?.src||"";o?(n+=`  <video controls class="field-preview-media" style="max-width: 100%; height: auto;">
`,n+=`    <source src="${this.escapeHtml(o)}" />
`,n+=`    Your browser does not support the video tag.
`,n+=`  </video>
`):n+=`  <div class="field-preview-placeholder">\u{1F3A5} Video (no source specified)</div>
`;break;case"audio":const d=e.properties?.src||"";d?(n+=`  <audio controls class="field-preview-media">
`,n+=`    <source src="${this.escapeHtml(d)}" />
`,n+=`    Your browser does not support the audio tag.
`,n+=`  </audio>
`):n+=`  <div class="field-preview-placeholder">\u{1F3B5} Audio (no source specified)</div>
`;break;case"input":switch(e.properties.type){case"text":case"email":case"password":case"number":case"url":case"tel":n+=`  <input type="${e.properties.type}" class="field-preview-input" placeholder="${e.properties.placeholder||""}" disabled />
`;break;case"radio":const y=this.parseSelectOptions(e.properties?.options||"");if(y.length>0){n+=`  <div class="field-preview-radio-group">
`;for(let I=0;I<y.length;I++){const U=y[I];U&&(n+=`    <label class="field-preview-radio"><input type="radio" name="${e.properties.name||e.id}_preview" disabled /> ${this.escapeHtml(U.label)}</label>
`)}n+=`  </div>
`}else n+=`  <div class="field-preview-radio-group">
`,n+=`    <label class="field-preview-radio"><input type="radio" disabled /> Option 1</label>
`,n+=`  </div>
`;break;case"submit":case"reset":const $=e.meta.label||e.properties.value||e.properties.type.charAt(0).toUpperCase()+e.properties.type.slice(1);n+=`  <input type="${e.properties.type}" class="field-preview-button field-preview-button-secondary" value="${this.escapeHtml($)}" disabled />
`;break;default:n+=`  <div class="field-preview-placeholder">\u{1F527} ${e.htmlTag} = ${e.properties.type}</div>
`}break;case"button":const c=e.meta.label||e.properties.label||"Button",u=e.properties.type||"button";let p="field-preview-button";switch(e.properties.type){case"button":case"submit":p+=" field-preview-button-secondary",n+=`  <button type="${u}" class="${p}" disabled>${this.escapeHtml(c)}</button>
`;break;case"reset":p+=" field-preview-button-secondary",n+=`  <button type="${u}" class="${p}" disabled>${this.escapeHtml(c)}</button>
`;break;default:n+=`  <div class="field-preview-placeholder">\u{1F527} ${e.htmlTag} = ${e.properties.type}</div>
`}break;case"textarea":n+=`  <textarea class="field-preview-textarea" placeholder="${e.properties.placeholder||""}" disabled></textarea>
`;break;case"select":n+=`  <select class="field-preview-select" disabled>
`;const f=this.parseSelectOptions(e.properties?.options||"");if(f.length===0)n+=`    <option value="">Select an option...</option>
`;else for(const y of f)n+=`    <option value="${this.escapeHtml(y.value)}">${this.escapeHtml(y.label)}</option>
`;n+=`  </select>
`;break;case"checkbox":const E=e.meta.label||e.properties.label||"Checkbox";n+=`  <label class="field-preview-checkbox"><input type="checkbox" disabled /> ${this.escapeHtml(E)}</label>
`;break;default:n+=`  <div class="field-preview-placeholder">\u{1F527} ${e.htmlTag}</div>
`}return e.meta&&e.meta.helperText&&(n+=`  <div class="preview-help">${this.escapeHtml(e.meta.helperText)}</div>
`),a&&(n+=`</div>
`),n}renderColumn(e,t={}){let a=`<div class="preview-column" data-width="${e.width||12}">
`;if(e.fields&&Array.isArray(e.fields))for(const n of e.fields)a+=this.renderField(n,t);return(!e.fields||e.fields.length===0)&&(a+=`  <div class="preview-column-placeholder">Drop fields here</div>
`),a+=`</div>
`,a}renderRow(e,t={}){let r=`<div class="preview-row">
`;if(e.columns&&Array.isArray(e.columns))for(const a of e.columns)r+=this.renderColumn(a,t);return(!e.columns||e.columns.length===0)&&(r+=`  <div class="preview-row-placeholder">Drop columns here</div>
`),r+=`</div>
`,r}renderForm(e,t={}){let r=`<div class="preview-form">
`;if(e.length===0)r+=`  <div class="preview-empty">
`,r+=`    <div class="preview-empty-icon">\u{1F4DD}</div>
`,r+=`    <div class="preview-empty-text">Start building your form</div>
`,r+=`    <div class="preview-empty-hint">Drag elements from the toolbox to create your form</div>
`,r+=`  </div>
`;else for(const a of e)r+=this.renderRow(a,t);return r+=`</div>
`,r}renderPreview(e,t={}){return this.renderForm(e,t)}isFormControl(e){return h.isFormControl(e)}parseSelectOptions(e){return e?e.split(`
`).filter(t=>t.trim()).map(t=>{const r=t.trim();if(r.includes("|")){const[a,n]=r.split("|",2);return{label:a?.trim()||"",value:n?.trim()||""}}else return{label:r,value:r}}):[]}}const x={FORM_BUILDER_LOADED:"formbuilder:loaded",ELEMENT_SELECTED:"element:selected",ELEMENT_DESELECTED:"element:deselected",ELEMENT_CREATED:"element:created",ELEMENT_DELETED:"element:deleted",ELEMENT_MOVED:"element:moved",ELEMENT_UPDATED:"element:updated",PROPERTY_CHANGED:"property:changed",FORM_CHANGED:"form:changed",FORM_EXPORTED:"form:exported",FORM_IMPORTED:"form:imported",FORM_CLEARED:"form:cleared",CATEGORY_TOGGLED:"category:toggled",PREVIEW_UPDATED:"preview:updated",JSON_DATA_READY:"json:data:ready"};class O extends S{renderField(e,t={}){const{includeLabels:r=!0}=t,a=this.getFieldId(e);this.getFieldName(e);const n=this.getFieldLabel(e);let s="";switch(r&&n&&(s+=`<label for="${a}">${this.escapeHtml(n)}</label>
`),e.htmlTag){case"input":s+=this.renderInput(e);break;case"textarea":s+=this.renderTextarea(e);break;case"select":s+=this.renderSelect(e);break;case"button":s+=this.renderButton(e);break;case"checkbox":s+=this.renderCheckbox(e);break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":s+=this.renderHeading(e);break;case"p":s+=this.renderParagraph(e);break;case"div":s+=this.renderDiv(e);break;case"span":s+=this.renderSpan(e);break;case"a":s+=this.renderLink(e);break;case"pre":s+=this.renderPreformatted(e);break;case"code":s+=this.renderCode(e);break;case"hr":s+=this.renderHorizontalRule(e);break;case"br":s+=this.renderLineBreak(e);break;case"img":s+=this.renderImage(e);break;default:console.log(`BasicRenderer: Unknown field type: ${e.htmlTag}`),s+=`<!-- Unknown field type: ${e.htmlTag} -->`}return s}renderInput(e){const r={type:e.properties?.type||"text",id:this.getFieldId(e),name:this.getFieldName(e),placeholder:e.properties?.placeholder||"",value:e.properties?.value||"",required:e.properties?.required?"required":void 0,maxlength:e.properties?.maxLength||void 0,minlength:e.properties?.minLength||void 0,min:e.properties?.min||void 0,max:e.properties?.max||void 0,step:e.properties?.step||void 0,pattern:e.properties?.pattern||void 0,class:e.properties?.class||void 0,style:e.properties?.style||void 0,checked:e.properties?.checked?"checked":void 0,multiple:e.properties?.multiple?"multiple":void 0,accept:e.properties?.accept||void 0};return`<input ${this.formatAttributes(r)} />`}renderTextInput(e){const t={type:e.properties?.type||"text",id:this.getFieldId(e),name:this.getFieldName(e),placeholder:e.properties?.placeholder||"",value:e.properties?.value||"",required:e.properties?.required?"required":void 0,maxlength:e.properties?.maxLength||void 0};return`<input ${this.formatAttributes(t)} />`}renderEmailInput(e){const t={type:"email",id:this.getFieldId(e),name:this.getFieldName(e),placeholder:e.properties?.placeholder||"",value:e.properties?.value||"",required:e.properties?.required?"required":void 0};return`<input ${this.formatAttributes(t)} />`}renderPasswordInput(e){const t={type:"password",id:this.getFieldId(e),name:this.getFieldName(e),placeholder:e.properties?.placeholder||"",required:e.properties?.required?"required":void 0};return`<input ${this.formatAttributes(t)} />`}renderNumberInput(e){const t={type:"number",id:this.getFieldId(e),name:this.getFieldName(e),placeholder:e.properties?.placeholder||"",value:e.properties?.value||"",min:e.properties?.min||void 0,max:e.properties?.max||void 0,required:e.properties?.required?"required":void 0};return`<input ${this.formatAttributes(t)} />`}renderTextarea(e){const t={id:this.getFieldId(e),name:this.getFieldName(e),placeholder:e.properties?.placeholder||"",rows:e.properties?.rows||4,required:e.properties?.required?"required":void 0},r=this.escapeHtml(e.properties?.value||"");return`<textarea ${this.formatAttributes(t)}>${r}</textarea>`}renderSelect(e){const t={id:this.getFieldId(e),name:this.getFieldName(e),required:e.properties?.required?"required":void 0,multiple:e.properties?.multiple?"multiple":void 0};let r=`<select ${this.formatAttributes(t)}>
`;return this.parseSelectOptions(e.properties?.options||"").forEach(n=>{const s=n.value===e.properties?.value?"selected":"";r+=`  <option value="${this.escapeHtml(n.value)}" ${s}>${this.escapeHtml(n.label)}</option>
`}),r+="</select>",r}renderCheckbox(e){const t={type:"checkbox",id:this.getFieldId(e),name:this.getFieldName(e),value:e.properties?.value||"1",checked:e.properties?.checked?"checked":void 0};return`<input ${this.formatAttributes(t)} />`}renderRadio(e){const t={type:"radio",id:this.getFieldId(e),name:this.getFieldName(e),value:e.properties?.value||"",checked:e.properties?.checked?"checked":void 0};return`<input ${this.formatAttributes(t)} />`}renderButton(e){const t={type:e.properties?.type||"button",id:this.getFieldId(e),name:this.getFieldName(e)},r=this.getFieldLabel(e)||e.properties?.value||"Button";return`<button ${this.formatAttributes(t)}>${this.escapeHtml(r)}</button>`}renderHeading(e){const t={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0},r=e.meta?.innerHTML||e.meta?.label||"Heading",a=e.htmlTag||"h1";return`<${a} ${this.formatAttributes(t)}>${this.escapeHtml(r)}</${a}>`}renderParagraph(e){const t={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0},r=e.meta?.innerHTML||e.meta?.label||"Paragraph text";return`<p ${this.formatAttributes(t)}>${this.escapeHtml(r)}</p>`}renderDiv(e){const t={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0},r=e.meta?.innerHTML||e.meta?.label||"";return`<div ${this.formatAttributes(t)}>${this.escapeHtml(r)}</div>`}renderSpan(e){const t={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0},r=e.meta?.innerHTML||e.meta?.label||"";return`<span ${this.formatAttributes(t)}>${this.escapeHtml(r)}</span>`}renderLink(e){const t={id:this.getFieldId(e),href:e.properties?.href||"#",target:e.properties?.target||void 0,class:e.properties?.class||void 0,style:e.properties?.style||void 0},r=e.meta?.innerHTML||e.meta?.label||"Link";return`<a ${this.formatAttributes(t)}>${this.escapeHtml(r)}</a>`}renderPreformatted(e){const t={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0},r=e.meta?.innerHTML||e.meta?.label||"";return`<pre ${this.formatAttributes(t)}>${this.escapeHtml(r)}</pre>`}renderCode(e){const t={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0},r=e.meta?.innerHTML||e.meta?.label||"";return`<code ${this.formatAttributes(t)}>${this.escapeHtml(r)}</code>`}renderHorizontalRule(e){const t={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0};return`<hr ${this.formatAttributes(t)} />`}renderLineBreak(e){const t={id:this.getFieldId(e),class:e.properties?.class||void 0};return`<br ${this.formatAttributes(t)} />`}renderImage(e){const t={id:this.getFieldId(e),src:e.properties?.src||"",alt:e.properties?.alt||"",width:e.properties?.width||void 0,height:e.properties?.height||void 0,title:e.properties?.title||void 0,loading:e.properties?.loading||void 0,decoding:e.properties?.decoding||void 0,crossorigin:e.properties?.crossorigin||void 0,referrerpolicy:e.properties?.referrerpolicy||void 0,sizes:e.properties?.sizes||void 0,srcset:e.properties?.srcset||void 0,class:e.properties?.class||void 0,style:e.properties?.style||void 0};return`<img ${this.formatAttributes(t)} />`}parseSelectOptions(e){return e?e.split(`
`).filter(t=>t.trim()).map(t=>{const r=t.trim();if(r.includes("|")){const[a,n]=r.split("|",2);return{label:a?.trim()||"",value:n?.trim()||""}}else return{label:r,value:r}}):[]}renderColumn(e,t={}){const{includeWrapper:r=!0}=t;let a="";return r&&(a+=`<div class="column" data-width="${e.width}">
`),e.fields.forEach(n=>{a+=`  <div class="field">
`,a+=`    ${this.renderField(n,t)}
`,a+=`  </div>
`}),r&&(a+=`</div>
`),a}renderRow(e,t={}){const{includeWrapper:r=!0}=t;let a="";return r&&(a+=`<div class="row" id="${e.id}">
`),e.columns.forEach(n=>{a+=this.renderColumn(n,t)}),r&&(a+=`</div>
`),a}renderForm(e,t={}){const{formId:r="generated-form",formAction:a="",formMethod:n="POST",cssFile:s="basic.css"}=t;let l=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generated Form</title>
    <link rel="stylesheet" href="${s}">
</head>
<body>
    <form id="${r}" action="${a}" method="${n}">
`;return e.forEach(i=>{l+=this.renderRow(i,t)}),l+=`    </form>
</body>
</html>`,l}renderPreview(e,t={}){const{cssFile:r="preview.css"}=t;let a=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Preview</title>
    <link rel="stylesheet" href="${r}">
</head>
<body>
    <div class="preview-container">
        <h2>Form Preview</h2>
        <div class="preview-form">
`;return e.forEach(n=>{a+=this.renderRow(n,{...t,includeWrapper:!0})}),a+=`        </div>
    </div>
</body>
</html>`,a}}class R extends S{renderField(e,t={}){const{includeLabels:r=!0}=t,a=this.getFieldId(e),n=this.getFieldLabel(e);let s="";if(s+=`<div class="mb-3">
`,r&&n){const i=e.properties?.required?' <span class="text-danger">*</span>':"";s+=`  <label for="${a}" class="form-label">${this.escapeHtml(n)}${i}</label>
`}switch(e.htmlTag){case"input":switch(e.properties.type){case"text":case"email":case"password":case"number":case"url":case"tel":s+=`  ${this.renderTextInput(e)}
`;break;case"radio":s+=`  ${this.renderRadio(e)}
`;break;case"submit":case"reset":s+=`  ${this.renderButton(e)}
`;break;default:s+=`  <!-- Unknown input type: ${e.properties.type} -->
`}break;case"textarea":s+=`  ${this.renderTextarea(e)}
`;break;case"select":s+=`  ${this.renderSelect(e)}
`;break;case"checkbox":s+=`  ${this.renderCheckbox(e)}
`;break;case"button":s+=`  ${this.renderButton(e)}
`;break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":s+=`  ${this.renderHeading(e)}
`;break;case"p":s+=`  ${this.renderParagraph(e)}
`;break;case"div":s+=`  ${this.renderDiv(e)}
`;break;case"span":s+=`  ${this.renderSpan(e)}
`;break;case"a":s+=`  ${this.renderLink(e)}
`;break;case"pre":s+=`  ${this.renderPreformatted(e)}
`;break;case"code":s+=`  ${this.renderCode(e)}
`;break;case"hr":s+=`  ${this.renderHorizontalRule(e)}
`;break;case"br":s+=`  ${this.renderLineBreak(e)}
`;break;case"img":s+=`  ${this.renderImage(e)}
`;break;default:console.log(`BootstrapRenderer: Unknown field htmlTag: ${e.htmlTag}`),s+=`  <!-- Unknown field htmlTag: ${e.htmlTag} -->
`}const l=e.meta?.helperText||e.meta?.hint;return l&&(s+=`  <div class="form-text">${this.escapeHtml(l)}</div>
`),s+=`</div>
`,s}renderTextInput(e){const t={type:e.properties?.type||"text",class:"form-control",id:this.getFieldId(e),name:this.getFieldName(e),placeholder:e.properties?.placeholder||"",value:e.properties?.value||"",required:e.properties?.required?"required":void 0,maxlength:e.properties?.maxLength||void 0};return`<input ${this.formatAttributes(t)} />`}renderTextarea(e){const t={class:"form-control",id:this.getFieldId(e),name:this.getFieldName(e),placeholder:e.properties?.placeholder||"",rows:e.properties?.rows||4,required:e.properties?.required?"required":void 0},r=this.escapeHtml(e.properties?.value||"");return`<textarea ${this.formatAttributes(t)}>${r}</textarea>`}renderSelect(e){const t={class:"form-select",id:this.getFieldId(e),name:this.getFieldName(e),required:e.properties?.required?"required":void 0,multiple:e.properties?.multiple?"multiple":void 0};let r=`<select ${this.formatAttributes(t)}>
`;return e.properties?.required||(r+=`    <option value="">Choose...</option>
`),this.parseSelectOptions(e.properties?.options||"").forEach(n=>{const s=n.value===e.properties?.value?"selected":"";r+=`    <option value="${this.escapeHtml(n.value)}" ${s}>${this.escapeHtml(n.label)}</option>
`}),r+="  </select>",r}renderCheckbox(e){const t=this.getFieldId(e),r=this.getFieldLabel(e),a={type:"checkbox",class:"form-check-input",id:t,name:this.getFieldName(e),value:e.properties?.value||"1",checked:e.properties?.checked?"checked":void 0};let n=`<div class="form-check">
`;return n+=`    <input ${this.formatAttributes(a)} />
`,r&&(n+=`    <label class="form-check-label" for="${t}">${this.escapeHtml(r)}</label>
`),n+="  </div>",n}renderRadio(e){const t=this.getFieldId(e),r=this.getFieldLabel(e),a={type:"radio",class:"form-check-input",id:t,name:this.getFieldName(e),value:e.properties?.value||"",checked:e.properties?.checked?"checked":void 0};let n=`<div class="form-check">
`;return n+=`    <input ${this.formatAttributes(a)} />
`,r&&(n+=`    <label class="form-check-label" for="${t}">${this.escapeHtml(r)}</label>
`),n+="  </div>",n}renderButton(e){const t={type:e.properties?.type||"button",class:"btn btn-primary",id:this.getFieldId(e),name:this.getFieldName(e)},r=this.getFieldLabel(e)||e.properties?.value||"Button";return`<button ${this.formatAttributes(t)}>${this.escapeHtml(r)}</button>`}parseSelectOptions(e){return e?e.split(`
`).filter(t=>t.trim()).map(t=>{const r=t.trim();if(r.includes("|")){const[a,n]=r.split("|",2);return{label:a?.trim()||"",value:n?.trim()||""}}else return{label:r,value:r}}):[]}renderHeading(e){const t=e.meta?.innerHTML||e.meta?.label||"Heading",r=e.htmlTag||"h1",a={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0};return`<${r} ${this.formatAttributes(a)}>${this.escapeHtml(t)}</${r}>`}renderParagraph(e){const t=e.meta?.innerHTML||e.meta?.label||"Paragraph text",r={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0};return`<p ${this.formatAttributes(r)}>${this.escapeHtml(t)}</p>`}renderDiv(e){const t=e.meta?.innerHTML||e.meta?.label||"",r={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0};return`<div ${this.formatAttributes(r)}>${this.escapeHtml(t)}</div>`}renderSpan(e){const t=e.meta?.innerHTML||e.meta?.label||"",r={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0};return`<span ${this.formatAttributes(r)}>${this.escapeHtml(t)}</span>`}renderLink(e){const t=e.meta?.innerHTML||e.meta?.label||"Link",r={id:this.getFieldId(e),href:e.properties?.href||"#",target:e.properties?.target||void 0,class:e.properties?.class||void 0,style:e.properties?.style||void 0};return`<a ${this.formatAttributes(r)}>${this.escapeHtml(t)}</a>`}renderPreformatted(e){const t=e.meta?.innerHTML||e.meta?.label||"",r={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0};return`<pre ${this.formatAttributes(r)}>${this.escapeHtml(t)}</pre>`}renderCode(e){const t=e.meta?.innerHTML||e.meta?.label||"",r={id:this.getFieldId(e),class:e.properties?.class||"language-javascript",style:e.properties?.style||void 0};return`<code ${this.formatAttributes(r)}>${this.escapeHtml(t)}</code>`}renderHorizontalRule(e){const t={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0};return`<hr ${this.formatAttributes(t)} />`}renderLineBreak(e){const t={id:this.getFieldId(e),class:e.properties?.class||void 0};return`<br ${this.formatAttributes(t)} />`}renderImage(e){const t={id:this.getFieldId(e),src:e.properties?.src||"",alt:e.properties?.alt||"",class:e.properties?.class||"img-fluid",width:e.properties?.width||void 0,height:e.properties?.height||void 0,title:e.properties?.title||void 0,loading:e.properties?.loading||void 0,decoding:e.properties?.decoding||void 0,crossorigin:e.properties?.crossorigin||void 0,referrerpolicy:e.properties?.referrerpolicy||void 0,sizes:e.properties?.sizes||void 0,srcset:e.properties?.srcset||void 0,style:e.properties?.style||void 0};return`<img ${this.formatAttributes(t)} />`}renderColumn(e,t={}){const{includeWrapper:r=!0}=t;let a="";if(r){const n=`col-md-${e.width}`;a+=`<div class="${n}">
`}return e.fields.forEach(n=>{a+=this.renderField(n,t)}),r&&(a+=`</div>
`),a}renderRow(e,t={}){const{includeWrapper:r=!0}=t;let a="";return r&&(a+=`<div class="row" id="${e.id}">
`),e.columns.forEach(n=>{a+=this.renderColumn(n,t)}),r&&(a+=`</div>
`),a}renderForm(e,t={}){const{formId:r="generated-form",formAction:a="",formMethod:n="POST"}=t;let s=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generated Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <form id="${r}" action="${a}" method="${n}">
`;return e.forEach(l=>{s+=`            ${this.renderRow(l,t)}`}),s+=`        </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"><\/script>
</body>
</html>`,s}renderPreview(e,t={}){let r=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Preview - Bootstrap</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="card">
            <div class="card-header">
                <h2 class="card-title mb-0">Form Preview</h2>
            </div>
            <div class="card-body">
`;return e.forEach(a=>{r+=`                ${this.renderRow(a,{...t,includeWrapper:!0})}`}),r+=`            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"><\/script>
</body>
</html>`,r}}class H extends S{renderField(e,t={}){const{includeLabels:r=!0,includeWrapper:a=!0}=t,n=this.formatAttributes(e.properties),s="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm";let l="";if(a&&(l+=`<div class="mb-4">
`),r&&e.meta.label){const i=e.properties.required;l+=`  <label for="${e.properties.id}" class="block text-sm font-medium text-gray-700 mb-1">`,l+=this.escapeHtml(e.meta.label),i&&(l+=' <span class="text-red-500">*</span>'),l+=`</label>
`}switch(e.htmlTag){case"input":switch(e.properties.type){case"text":case"email":case"password":case"number":case"url":case"tel":l+=`  <input type="${e.properties.type}" class="${s}" ${n} />
`;break;case"radio":const p=this.parseSelectOptions(e.properties?.options||"");if(p.length>0){l+=`  <div class="space-y-2">
`;for(let y=0;y<p.length;y++){const $=p[y];if($){const I=`${e.properties.id}_${y}`;l+=`    <div class="flex items-center">
`,l+=`      <input type="radio" id="${I}" name="${e.properties.name}" value="${this.escapeHtml($.value)}" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300" />
`,l+=`      <label for="${I}" class="ml-2 block text-sm text-gray-700">${this.escapeHtml($.label)}</label>
`,l+=`    </div>
`}}l+=`  </div>
`}break;case"submit":case"reset":let f="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2";e.properties.type==="submit"?f+=" text-white bg-blue-600 hover:bg-blue-700 focus:ring-blue-500":f+=" text-white bg-gray-600 hover:bg-gray-700 focus:ring-gray-500";const E=e.meta.label||e.properties.value||e.properties.type.charAt(0).toUpperCase()+e.properties.type.slice(1);l+=`  <input type="${e.properties.type}" class="${f}" value="${this.escapeHtml(E)}" ${n} />
`;break;default:l+=`  <!-- Unknown input type: ${e.properties.type} -->
`}break;case"textarea":l+=`  <textarea class="block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm resize-y" ${n}></textarea>
`;break;case"select":l+=`  <select class="block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm" ${n}>
`;const d=this.parseSelectOptions(e.properties?.options||"");for(const p of d)l+=`    <option value="${this.escapeHtml(p.value)}">${this.escapeHtml(p.label)}</option>
`;l+=`  </select>
`;break;case"checkbox":l+=`  <div class="flex items-center">
`,l+=`    <input type="checkbox" class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded" ${n} />
`,e.meta.label&&(l+=`    <label for="${e.properties.id}" class="ml-2 block text-sm text-gray-700">${this.escapeHtml(e.meta.label)}</label>
`),l+=`  </div>
`;break;case"button":const c=e.properties.type||"button";let u="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2";switch(c){case"submit":u+=" text-white bg-blue-600 hover:bg-blue-700 focus:ring-blue-500";break;case"reset":u+=" text-white bg-gray-600 hover:bg-gray-700 focus:ring-gray-500";break;default:u+=" text-gray-700 bg-white hover:bg-gray-50 focus:ring-blue-500 border-gray-300"}l+=`  <button type="${c}" class="${u}" ${n}>${this.escapeHtml(e.meta.label||"Button")}</button>
`;break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":l+=`  ${this.renderHeading(e)}
`;break;case"p":l+=`  ${this.renderParagraph(e)}
`;break;case"div":l+=`  ${this.renderDiv(e)}
`;break;case"span":l+=`  ${this.renderSpan(e)}
`;break;case"a":l+=`  ${this.renderLink(e)}
`;break;case"pre":l+=`  ${this.renderPreformatted(e)}
`;break;case"code":l+=`  ${this.renderCode(e)}
`;break;case"hr":l+=`  ${this.renderHorizontalRule(e)}
`;break;case"br":l+=`  ${this.renderLineBreak(e)}
`;break;case"img":l+=`  ${this.renderImage(e)}
`;break;default:l+=`  <!-- Unsupported field htmlTag: ${e.htmlTag} -->
`}return e.meta.helperText&&(l+=`  <p class="mt-1 text-sm text-gray-500">${this.escapeHtml(e.meta.helperText)}</p>
`),a&&(l+=`</div>
`),l}renderColumn(e,t={}){const r=e.width||12;let n=`<div class="${this.getTailwindColumnClass(r)}">
`;if(e.fields&&Array.isArray(e.fields))for(const s of e.fields)n+=this.renderField(s,t);return n+=`</div>
`,n}renderRow(e,t={}){let r=`<div class="grid grid-cols-12 gap-4 mb-6">
`;if(e.columns&&Array.isArray(e.columns))for(const a of e.columns)r+=this.renderColumn(a,t);return r+=`</div>
`,r}renderForm(e,t={}){const{formId:r="form",formAction:a="#",formMethod:n="POST"}=t;let s=`<form id="${r}" action="${a}" method="${n}" class="max-w-4xl mx-auto p-6 bg-white">
`;for(const l of e)s+=this.renderRow(l,t);return s+=`</form>
`,s}renderPreview(e,t={}){return this.generatePreviewHTML(e,t)}generateFullHTML(e,t={}){const{cssFile:r}=t,a=this.renderForm(e,t);return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form - Tailwind CSS</title>
    <script src="https://cdn.tailwindcss.com"><\/script>
    ${r?`<link rel="stylesheet" href="${r}">`:""}
    <style>
        /* Custom Tailwind configuration */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen py-8">
    <div class="container mx-auto px-4">
        ${a}
    </div>
</body>
</html>`}generatePreviewHTML(e,t={}){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Preview - Tailwind CSS</title>
    <script src="https://cdn.tailwindcss.com"><\/script>
    <link rel="stylesheet" href="css/preview.css">
    <style>
        /* Enhanced preview styling with Tailwind */
        body { 
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .preview-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body class="min-h-screen py-8">
    <div class="container mx-auto px-4">
        <div class="preview-container max-w-4xl mx-auto p-8">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800 mb-2">Form Preview</h1>
                <p class="text-gray-600">Powered by Tailwind CSS</p>
            </div>
            ${this.renderForm(e,t)}
        </div>
    </div>
</body>
</html>`}renderHeading(e){const t=e.meta?.innerHTML||e.meta?.label||"Heading",r=e.htmlTag||"h1",a={h1:"text-3xl font-bold text-gray-900",h2:"text-2xl font-semibold text-gray-900",h3:"text-xl font-semibold text-gray-900",h4:"text-lg font-medium text-gray-900",h5:"text-base font-medium text-gray-900",h6:"text-sm font-medium text-gray-900"},n={id:this.getFieldId(e),class:e.properties?.class||a[r]||a.h1,style:e.properties?.style||void 0};return`<${r} ${this.formatAttributes(n)}>${this.escapeHtml(t)}</${r}>`}renderParagraph(e){const t=e.meta?.innerHTML||e.meta?.label||"Paragraph text",r={id:this.getFieldId(e),class:e.properties?.class||"text-gray-700 leading-relaxed",style:e.properties?.style||void 0};return`<p ${this.formatAttributes(r)}>${this.escapeHtml(t)}</p>`}renderDiv(e){const t=e.meta?.innerHTML||e.meta?.label||"",r={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0};return`<div ${this.formatAttributes(r)}>${this.escapeHtml(t)}</div>`}renderSpan(e){const t=e.meta?.innerHTML||e.meta?.label||"",r={id:this.getFieldId(e),class:e.properties?.class||void 0,style:e.properties?.style||void 0};return`<span ${this.formatAttributes(r)}>${this.escapeHtml(t)}</span>`}renderLink(e){const t=e.meta?.innerHTML||e.meta?.label||"Link",r={id:this.getFieldId(e),href:e.properties?.href||"#",target:e.properties?.target||void 0,class:e.properties?.class||"text-blue-600 hover:text-blue-800 underline",style:e.properties?.style||void 0};return`<a ${this.formatAttributes(r)}>${this.escapeHtml(t)}</a>`}renderPreformatted(e){const t=e.meta?.innerHTML||e.meta?.label||"",r={id:this.getFieldId(e),class:e.properties?.class||"bg-gray-100 p-4 rounded-md font-mono text-sm overflow-x-auto",style:e.properties?.style||void 0};return`<pre ${this.formatAttributes(r)}>${this.escapeHtml(t)}</pre>`}renderCode(e){const t=e.meta?.innerHTML||e.meta?.label||"",r={id:this.getFieldId(e),class:e.properties?.class||"bg-gray-100 px-2 py-1 rounded font-mono text-sm",style:e.properties?.style||void 0};return`<code ${this.formatAttributes(r)}>${this.escapeHtml(t)}</code>`}renderHorizontalRule(e){const t={id:this.getFieldId(e),class:e.properties?.class||"border-gray-300 my-4",style:e.properties?.style||void 0};return`<hr ${this.formatAttributes(t)} />`}renderLineBreak(e){const t={id:this.getFieldId(e),class:e.properties?.class||void 0};return`<br ${this.formatAttributes(t)} />`}renderImage(e){const t={id:this.getFieldId(e),src:e.properties?.src||"",alt:e.properties?.alt||"",class:e.properties?.class||"max-w-full h-auto rounded-lg",width:e.properties?.width||void 0,height:e.properties?.height||void 0,title:e.properties?.title||void 0,loading:e.properties?.loading||void 0,decoding:e.properties?.decoding||void 0,crossorigin:e.properties?.crossorigin||void 0,referrerpolicy:e.properties?.referrerpolicy||void 0,sizes:e.properties?.sizes||void 0,srcset:e.properties?.srcset||void 0,style:e.properties?.style||void 0};return`<img ${this.formatAttributes(t)} />`}parseSelectOptions(e){return e?e.split(`
`).filter(t=>t.trim()).map(t=>{const r=t.trim();if(r.includes("|")){const[a,n]=r.split("|",2);return{label:a?.trim()||"",value:n?.trim()||""}}else return{label:r,value:r}}):[]}getTailwindColumnClass(e){switch(e){case 1:return"col-span-1";case 2:return"col-span-2";case 3:return"col-span-3";case 4:return"col-span-4";case 5:return"col-span-5";case 6:return"col-span-6";case 7:return"col-span-7";case 8:return"col-span-8";case 9:return"col-span-9";case 10:return"col-span-10";case 11:return"col-span-11";case 12:return"col-span-12";default:return"col-span-12"}}}class V{static createRenderer(e="basic"){const t=this.renderers.get(e.toLowerCase());if(!t)throw new Error(`Renderer for framework '${e}' not found. Available: ${Array.from(this.renderers.keys()).join(", ")}`);return t()}static getAvailableFrameworks(){return Array.from(this.renderers.keys())}static registerRenderer(e,t){this.renderers.set(e.toLowerCase(),t)}static renderForm(e,t="basic",r={}){return this.createRenderer(t).renderForm(e,{...r,framework:t})}static renderPreview(e,t="basic",r={}){return this.createRenderer(t).renderPreview(e,{...r,framework:t})}static renderField(e,t="basic",r={}){return this.createRenderer(t).renderField(e,{...r,framework:t})}}V.renderers=new Map([["basic",()=>new O],["bootstrap",()=>new R],["tailwind",()=>new H],["preview",()=>new M]]);class q{constructor(e="basic"){this.framework=e,this.renderer=V.createRenderer(e)}generateForm(e,t={}){return this.renderer.renderForm(e,{...t,framework:this.framework})}generatePreview(e,t={}){return this.renderer.renderPreview(e,{...t,framework:this.framework})}generateField(e,t={}){return this.renderer.renderField(e,{...t,framework:this.framework})}generateRow(e,t={}){return this.renderer.renderRow(e,{...t,framework:this.framework})}generateColumn(e,t={}){return this.renderer.renderColumn(e,{...t,framework:this.framework})}setFramework(e){this.framework=e,this.renderer=V.createRenderer(e)}getFramework(){return this.framework}static getAvailableFrameworks(){return V.getAvailableFrameworks()}}class P{constructor(e){this.container=e,this.scopeId=this.generateScopeId(),this.markContainerScope()}generateScopeId(){return`fb-scope-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}markContainerScope(){this.container.setAttribute("data-formbuilder-scope",this.scopeId),this.container.setAttribute("data-fb-version","0.1.0"),this.container.setAttribute("data-fb-initialized",new Date().toISOString())}querySelector(e){try{return this.container.querySelector(e)}catch(t){return console.warn(`\u26A0\uFE0F FormBuilder: Invalid selector "${e}":`,t),null}}querySelectorAll(e){try{return this.container.querySelectorAll(e)}catch(t){return console.warn(`\u26A0\uFE0F FormBuilder: Invalid selector "${e}":`,t),document.querySelectorAll("")}}getElementById(e){return this.container.querySelector(`#${CSS.escape(e)}`)}addEventListener(e,t,r){this.container.addEventListener(e,t,r)}removeEventListener(e,t){this.container.removeEventListener(e,t)}createElement(e,t){const r=document.createElement(e);return r.setAttribute("data-fb-scope",this.scopeId),r.setAttribute("data-fb-created","true"),t&&Object.entries(t).forEach(([a,n])=>{r.setAttribute(a,n)}),r}createElementWithId(e,t,r){const a=this.getScopedId(t);return this.createElement(e,{id:a,...r})}getScopedId(e){return`${this.scopeId}-${e}`}isInScope(e){return e?this.container.contains(e):!1}validateOperation(e,t="operation"){return e?this.isPropertyPanelElement(e)||this.isInScope(e)?!0:(console.warn(`\u26A0\uFE0F FormBuilder Security: Blocked ${t} on external element:`,{element:e,tagName:e.tagName,id:e.id,className:e.className,scopeId:this.scopeId}),typeof window<"u"&&window.location.hostname==="localhost"&&console.trace("Stack trace for security violation"),!1):(console.warn(`\u26A0\uFE0F FormBuilder Security: Attempted ${t} on null/undefined element`),!1)}isPropertyPanelElement(e){let t=e;for(;t;){if(t.classList.contains("properties-panel")||t.classList.contains("properties-content")||t.classList.contains("property-group")||t.classList.contains("btn-delete-element")||t.id==="deleteElement")return!0;t=t.parentElement}return!1}safeAppendChild(e,t){if(!this.validateOperation(e,"appendChild on parent")||!this.validateOperation(t,"appendChild on child"))return!1;try{return e.appendChild(t),!0}catch(r){return console.error("\u26A0\uFE0F FormBuilder: Failed to append child:",r),!1}}safeRemoveChild(e,t){if(!this.validateOperation(e,"removeChild on parent")||!this.validateOperation(t,"removeChild on child"))return!1;try{return e.removeChild(t),!0}catch(r){return console.error("\u26A0\uFE0F FormBuilder: Failed to remove child:",r),!1}}safeSetAttribute(e,t,r){if(!this.validateOperation(e,`setAttribute ${t}`))return!1;try{return e.setAttribute(t,r),!0}catch(a){return console.error("\u26A0\uFE0F FormBuilder: Failed to set attribute:",a),!1}}safeRemoveAttribute(e,t){if(!this.validateOperation(e,`removeAttribute ${t}`))return!1;try{return e.removeAttribute(t),!0}catch(r){return console.error("\u26A0\uFE0F FormBuilder: Failed to remove attribute:",r),!1}}getContainer(){return this.container}getScopeId(){return this.scopeId}getDebugInfo(){return{scopeId:this.scopeId,containerTagName:this.container.tagName,containerId:this.container.id,containerClasses:this.container.className,elementsInScope:this.container.querySelectorAll("[data-fb-scope]").length,initialized:this.container.getAttribute("data-fb-initialized")}}cleanup(){this.container.querySelectorAll(`[data-fb-scope="${this.scopeId}"]`).forEach(t=>{t.parentNode&&t.parentNode.removeChild(t)}),this.container.removeAttribute("data-formbuilder-scope"),this.container.removeAttribute("data-fb-version"),this.container.removeAttribute("data-fb-initialized")}}class N extends C{constructor(e,t){if(super(),this.rows=[],this.formElement=null,this.selectedElement=null,this.debugMode=!1,this.canvasClickHandler=null,this.addColumnDebounce={},this.isLoaded=!1,this.elementCounters={},this.container=this.resolveContainer(e),this.scopedDOM=new P(this.container),t?.debug!==void 0&&(this.debugMode=t.debug),this.elementRegistry=new v,t?.elementRegistry)try{this.elementRegistry.loadCustomRegistry(t.elementRegistry),this.debugMode&&console.log("\u2705 Custom ElementRegistry loaded successfully:",Object.keys(t.elementRegistry))}catch(a){const n=a instanceof Error?a.message:"Unknown error";throw console.error("\u274C Failed to load custom ElementRegistry:",n),new Error(`Invalid ElementRegistry configuration: ${n}`)}this.previewRenderer=new M,this.createFormBuilderStructure(),this.canvas=this.scopedDOM.getElementById(this.scopedDOM.getScopedId("formCanvas")),this.toolbox=this.scopedDOM.querySelector(".toolbox"),this.propertiesPanel=this.scopedDOM.getElementById(this.scopedDOM.getScopedId("propertiesPanel"));const r=this.scopedDOM.getElementById(this.scopedDOM.getScopedId("propertiesContent"));this.propertyPanelInstance=new L(r),this.dragDropManager=new F(this.container,this.scopedDOM),this.init(),t?.form&&this.loadInitialForm(t.form)}loadInitialForm(e){try{let t;if(!Array.isArray(e)&&"version"in e){const r={};e.metadata.title&&(r.title=e.metadata.title),e.metadata.description&&(r.description=e.metadata.description),e.version&&(r.version=e.version),e.metadata.created&&(r.createdAt=e.metadata.created),t={formElement:null,rows:e.rows,metadata:r}}else t=e;this.importForm(t),this.debugMode&&console.log("\u2705 Initial form data loaded successfully:",{hasForm:!!this.formElement,rows:this.rows.length})}catch(t){const r=t instanceof Error?t.message:"Unknown error";throw console.error("\u274C Failed to load initial form data:",r),new Error(`Invalid initial form data: ${r}`)}}resolveContainer(e){if(e instanceof HTMLElement)return e;if(typeof e=="string"){let t=null;if(e.startsWith("#")){const r=e.substring(1);if(t=document.getElementById(r),!t)throw new Error(`FormBuilder Error: Element with ID "${r}" not found. Make sure the element exists in the DOM before initializing FormBuilder.`)}else if(e.startsWith(".")){const r=e.substring(1),a=document.getElementsByClassName(r);if(a.length===0)throw new Error(`FormBuilder Error: No elements found with class "${r}". Make sure at least one element with this class exists in the DOM.`);a.length>1&&console.warn(`FormBuilder Warning: Multiple elements found with class "${r}". Using the first one.`),t=a[0]}else if(t=document.getElementById(e),!t)throw new Error(`FormBuilder Error: Element with ID "${e}" not found. Make sure the element exists in the DOM before initializing FormBuilder.`);if(!t)throw new Error(`FormBuilder Error: Unable to find element with selector "${e}". Please check your selector and ensure the element exists in the DOM.`);return t}throw new Error(`FormBuilder Error: Invalid container parameter. Expected string selector or HTMLElement, received ${typeof e}.`)}createFormBuilderStructure(){const e=this.scopedDOM.getScopedId("formCanvas"),t=this.scopedDOM.getScopedId("propertiesPanel"),r=this.scopedDOM.getScopedId("propertiesContent"),a=this.scopedDOM.getScopedId("elementsList"),n=this.scopedDOM.getScopedId("dropZone");this.container.innerHTML=`
            <!-- Main Content -->
            <div class="main-content">
                <!-- Toolbox -->
                <aside class="toolbox">
                    <h3>Elements Toolbox</h3>
                    <div id="${a}">
                        <!-- Elements will be populated by JavaScript organized by categories -->
                    </div>
                </aside>

                <!-- Form Canvas -->
                <main class="canvas-container">
                    <div class="canvas form-canvas drop-zone" id="${e}">
                        <div class="drop-zone" id="${n}">
                            <div class="drop-zone-placeholder">
                                <p>Drag elements here to build your form</p>
                            </div>
                        </div>
                    </div>
                </main>

                <!-- Properties Panel -->
                <aside class="properties-panel" id="${t}">
                    <h3>Properties</h3>
                    <div class="properties-content" id="${r}">
                        <p class="no-selection">Select an element to edit its properties</p>
                    </div>
                </aside>
            </div>
        `}init(){this.setupEventListeners(),this.populateToolbox(),this.setupDragAndDrop(),this.setupDebugToggle(),this.render(),this.isLoaded=!0,this.dispatchFormBuilderLoadedEvent()}toSlug(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}dispatchFormBuilderLoadedEvent(){const e=new CustomEvent(x.FORM_BUILDER_LOADED,{detail:{formBuilder:this,isReady:!0,timestamp:new Date().toISOString()},bubbles:!0,cancelable:!1});this.container.dispatchEvent(e),this.debugMode&&console.log("\u{1F680} FormBuilder loaded event dispatched:",{eventType:x.FORM_BUILDER_LOADED,target:this.container,detail:e.detail})}generateUniqueId(e){return e in this.elementCounters||(this.elementCounters[e]=0),this.elementCounters[e]=(this.elementCounters[e]||0)+1,`${this.toSlug(e)}-${this.elementCounters[e]}`}resetElementCounters(){this.elementCounters={}}updateCountersFromExistingData(){this.resetElementCounters(),this.formElement&&this.updateCounterFromId("form",this.formElement.id),this.rows.forEach(e=>{this.updateCounterFromId("row",e.id),e.columns.forEach(t=>{this.updateCounterFromId("column",t.id),t.fields.forEach(r=>{this.updateCounterFromId(r.htmlTag,r.id)})})})}updateCounterFromId(e,t){const r=this.toSlug(e),a=new RegExp(`^${r}-(\\d+)$`),n=t.match(a);if(n&&n[1]){const s=parseInt(n[1],10);isNaN(s)||(this.elementCounters[e]=Math.max(this.elementCounters[e]||0,s))}}isFormElement(e){const t=this.elementRegistry.get(e);return t?h.isFormControl(t.htmlTag):!1}findElement(e){return this.scopedDOM.querySelector(e)}findElements(e){return this.scopedDOM.querySelectorAll(e)}findById(e){return this.scopedDOM.getElementById(e)}safeAppendChild(e,t){return this.scopedDOM.safeAppendChild(e,t)}safeRemoveChild(e,t){return this.scopedDOM.safeRemoveChild(e,t)}safeSetAttribute(e,t,r){return this.scopedDOM.safeSetAttribute(e,t,r)}safeRemoveAttribute(e,t){return this.scopedDOM.safeRemoveAttribute(e,t)}validateElementOperation(e,t){return this.scopedDOM.validateOperation(e,t)}createScopedElement(e,t){return this.scopedDOM.createElement(e,t)}createScopedElementWithId(e,t,r){return this.scopedDOM.createElementWithId(e,t,r)}setupEventListeners(){this.propertyPanelInstance.on("propertyChanged",this.handlePropertyChange.bind(this)),this.propertyPanelInstance.on("deleteElement",this.handleDeleteElement.bind(this)),this.setupScopedEventListeners()}setupScopedEventListeners(){this.scopedDOM.addEventListener("click",e=>this.handleScopedClick(e)),this.scopedDOM.addEventListener("dragstart",e=>this.handleScopedDragStart(e)),this.scopedDOM.addEventListener("dragover",e=>this.handleScopedDragOver(e)),this.scopedDOM.addEventListener("drop",e=>this.handleScopedDrop(e)),this.scopedDOM.addEventListener("dragenter",e=>this.handleScopedDragEnter(e)),this.scopedDOM.addEventListener("dragleave",e=>this.handleScopedDragLeave(e))}handleScopedClick(e){const t=e.target;if(!this.validateElementOperation(t,"click"))return;const r=t.closest(".element-item");if(r&&r.dataset.elementType){e.preventDefault();const a=r.dataset.elementType;this.debugMode&&console.log("\u{1F5B1}\uFE0F Click-to-add element:",a),this.addElementByClick(a);return}this.canvasClickHandler&&this.canvasClickHandler(e)}handleScopedDragStart(e){const t=e.target;if(!this.validateElementOperation(t,"dragstart")){e.preventDefault();return}}handleScopedDragOver(e){const t=e.target;this.validateElementOperation(t,"dragover")&&e.preventDefault()}handleScopedDrop(e){const t=e.target;this.validateElementOperation(t,"drop")}handleScopedDragEnter(e){const t=e.target;this.validateElementOperation(t,"dragenter")}handleScopedDragLeave(e){const t=e.target;this.validateElementOperation(t,"dragleave")}setupDragAndDrop(){console.log("Setting up drag and drop with DragDropManager (scoped)..."),this.dragDropManager.on("elementDropped",this.handleElementDropped.bind(this)),this.debugMode&&console.log("\u2705 DragDropManager initialized with ScopedDOM for secure drag operations")}handleSidebarDrop(e){e.preventDefault(),e.stopPropagation();const t=e.dataTransfer?.getData("text/plain");if(t){const r=e.target,a=r.closest(".form-column"),n=r.closest(".form-row");if(t==="form"){this.createFormElement();return}if(t==="row")this.debugMode&&console.log("Adding row to canvas"),this.createRow();else if(t==="column")if(n){const s=n.dataset.rowId;this.debugMode&&console.log("Adding column to row:",s),s&&this.addColumnToRowById(s)}else this.debugMode&&console.log("Creating new row with column on canvas"),this.createRow();else if(a){const s=a.dataset.elementId;this.debugMode&&console.log("Adding element to column:",t,s),this.createElementInColumn(t,s)}else if(n){const s=n.dataset.rowId;this.debugMode&&console.log("Adding element to row:",t,s),this.createElementInRow(t,s)}else this.debugMode&&console.log("Adding element to new row on canvas:",t),this.createElementInNewRow(t)}}handleInternalDrop(e){const t=e.dataTransfer?.getData("application/x-element-id"),r=e.dataTransfer?.getData("application/x-element-type");if(!t||!r)return;const a=e.target;a.closest(".form-column"),a.closest(".form-row"),this.debugMode&&console.log("Moving internal element:",r,t),r==="row"?this.moveRow(t,a,e):r==="column"?this.moveColumn(t,a):r==="field"&&this.moveField(t,a)}createElementInColumn(e,t){let r=null;for(const s of this.rows){for(const l of s.columns)if(l.id===t){r=l;break}if(r)break}if(!r){console.warn("Target column not found:",t);return}const a=b.generateId(),n=this.elementRegistry.get(e);if(n){const s={};if(n.properties)for(const[d,c]of Object.entries(n.properties))s[d]=c.defaultValue||"";const l=this.generateUniqueId(e);s.id=l,n.properties?.name&&(s.name=l);const i={};if(n.meta)for(const[d,c]of Object.entries(n.meta))i[d]=c.defaultValue||"";this.isFormElement(e)&&n.meta?.label&&(i.label=l);const o={id:a,elementRegistryId:e,htmlTag:n.htmlTag,properties:s,meta:i,events:{}};r.fields.push(o),this.render(),this.emitFormChange()}else console.error("Element type not found:",e)}createElementInRow(e,t){this.debugMode&&console.log("Creating element in specific row:",e,t);const r=this.rows.find(n=>n.id===t);if(!r){console.warn("Target row not found:",t);return}if(r.columns.length===0){const n=this.generateUniqueId("column"),s={id:n,width:12,fields:[],properties:{id:n}};r.columns.push(s)}const a=r.columns[0];a&&this.createElementInColumn(e,a.id)}createElementInNewRow(e){this.debugMode&&console.log("Creating element in new row:",e);const t=this.generateUniqueId("row"),r=this.generateUniqueId("column"),n={id:t,columns:[{id:r,width:12,fields:[],properties:{id:r}}],properties:{id:t}};this.rows.push(n),this.createElementInColumn(e,r),this.emitFormChange()}createFormElement(){if(this.formElement){alert("Only one form element is allowed per form builder. Please remove the existing form element first.");return}this.debugMode&&console.log("Creating form element");const e=this.elementRegistry.get("form");if(!e){console.error("Form element configuration not found");return}const t={};if(e.properties)for(const[n,s]of Object.entries(e.properties))t[n]=s.defaultValue||"";const r=this.generateUniqueId("form");t.id=r,e.properties?.name&&(t.name=r);const a={};if(e.events)for(const[n,s]of Object.entries(e.events))a[n]=s.defaultValue||{};this.formElement={id:b.generateId(),elementRegistryId:"form",htmlTag:e.htmlTag,properties:t,meta:{},events:a},this.render(),this.emitFormChange()}setupDebugToggle(){const e=this.findElement("#debugToggle");if(!e){console.warn("Debug toggle button not found in HTML");return}e.addEventListener("click",()=>{this.debugMode=!this.debugMode,this.debugMode?(this.container.classList.add("debug-mode"),e.textContent="\u{1F41B} Debug: ON",e.classList.add("btn-success"),e.classList.remove("btn-secondary")):(this.container.classList.remove("debug-mode"),e.textContent="\u{1F41B} Debug",e.classList.add("btn-secondary"),e.classList.remove("btn-success")),this.render()})}highlightElement(e){this.scopedDOM.querySelectorAll(".selected").forEach(r=>{r.classList.remove("selected")});const t=this.scopedDOM.querySelector(`[data-element-id="${e}"]`);t&&t.classList.add("selected")}handlePropertyChange(e){const{elementId:t,property:r,value:a,section:n="properties"}=e,s=this.findElementById(t);if(!s){console.warn("Element not found for property update:",t);return}switch(n){case"properties":s.properties||(s.properties={}),s.properties[r]=a;break;case"meta":const l=s;l.meta||(l.meta={}),l.meta[r]=a;break;case"events":const i=s;i.events||(i.events={}),i.events[r]=a;break;case"alpine":const o=s;o.alpine||(o.alpine={}),o.alpine[r]=a;break;default:console.warn("Unknown section for property update:",n);return}this.render(),this.emitFormChange(),this.emit("propertyChanged",e)}handleDeleteElement(e){const{elementId:t}=e;this.deleteElement(t)}handleElementDropped(e){const{data:t,dropTarget:r,event:a}=e,{elementType:n,isNew:s,elementId:l,sourceType:i}=t;this.debugMode&&console.log("\u{1F3AF} Element dropped:",{elementType:n,isNew:s,elementId:l,sourceType:i,dropTarget:r}),s?this.handleSidebarDrop(a):this.handleInternalDrop(a)}findElementById(e){if(this.formElement&&this.formElement.id===e)return this.formElement;for(const t of this.rows){if(t.id===e)return t;for(const r of t.columns){if(r.id===e)return r;for(const a of r.fields)if(a.id===e)return a}}return null}addElementByClick(e){try{if(!this.formElement){const c=this.generateUniqueId("form"),u=this.elementRegistry.get("form");if(!u){console.error("Form element configuration not found");return}const p={id:c,name:c,method:"POST",action:"",class:"",enctype:"application/x-www-form-urlencoded"},f={onChange:{action:"validate",target:"vanilla",parameters:{}},onSubmit:{action:"submit",target:"vanilla",parameters:{}}};this.formElement={id:b.generateId(),elementRegistryId:"form",htmlTag:u.htmlTag,properties:p,meta:{},events:f}}let t,r;const a=this.generateUniqueId("row"),n=this.generateUniqueId("column");t={id:a,columns:[],properties:{id:a}},r={id:n,width:12,fields:[],properties:{id:n}},t.columns.push(r),this.rows.push(t);const s=this.generateUniqueId(e),l=this.elementRegistry.get(e);if(!l){console.error(`Element configuration not found for type: ${e}`);return}const i={id:s,name:s};if(l.properties)for(const[c,u]of Object.entries(l.properties))i[c]=u.defaultValue||"";const o={label:s};if(l.meta)for(const[c,u]of Object.entries(l.meta))o[c]=u.defaultValue||"";const d={id:b.generateId(),elementRegistryId:e,htmlTag:l.htmlTag,properties:i,meta:o,events:{}};r.fields.push(d),this.debugMode&&console.log("\u2705 Element added by click:",{elementType:e,elementId:d.id,rowId:t.id,columnId:r.id}),this.render(),this.emitFormChange(),this.selectElement(d.id)}catch(t){console.error("Error adding element by click:",t)}}addElement(e){console.log("Adding element:",e)}deleteElement(e){if(this.debugMode&&console.log("\u{1F5D1}\uFE0F Deleting element:",e),this.formElement&&this.formElement.id===e){this.debugMode&&console.log("\u{1F5D1}\uFE0F Deleting form element:",this.formElement.id),this.formElement=null,this.propertyPanelInstance.hideProperties(),this.render(),this.emitFormChange();return}for(let t=0;t<this.rows.length;t++){const r=this.rows[t];if(r){if(r.id===e){this.rows.splice(t,1),this.render(),this.emitFormChange();return}for(let a=0;a<r.columns.length;a++){const n=r.columns[a];if(n){if(n.id===e){r.columns.splice(a,1);const s=Math.floor(12/Math.max(1,r.columns.length));r.columns.forEach(l=>l.width=s),this.render(),this.emitFormChange();return}for(let s=0;s<n.fields.length;s++){const l=n.fields[s];if(l&&l.id===e){n.fields.splice(s,1),this.render(),this.emitFormChange();return}}}}}}}exportForm(){return{formElement:this.formElement,rows:this.rows,metadata:{title:"Form Builder Layout",description:"Form layout created with Form Builder",version:"0.1.0",createdAt:new Date().toISOString()}}}importForm(e){Array.isArray(e)?(this.rows=e,this.formElement=null):(this.formElement=e.formElement||null,this.rows=e.rows||[]),this.updateCountersFromExistingData(),this.render(),this.emitFormChange()}exportJsonFile(e){try{const t={title:"Form Builder Layout",description:"Form layout created with Form Builder",version:"0.1.0",createdAt:new Date().toISOString()},r={formElement:this.formElement,rows:this.rows,metadata:t},a=JSON.stringify(r,null,2),n=new Blob([a],{type:"application/json"}),s=URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download=e||"form-layout.json",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s),this.debugMode&&console.log("\u{1F4E5} Form exported to JSON:",{hasFormElement:!!this.formElement,rows:this.rows.length,preview:w.createPreview(this.rows)})}catch(t){console.error("\u274C Error exporting form:",t),alert("Error exporting form. Please check the console for details.")}}toJSON(){try{const t={metadata:{title:"Form Builder Layout",description:"Form layout created with Form Builder",createdAt:new Date().toISOString(),version:"0.1.0"},formElement:this.formElement,rows:this.rows,elementCount:this.getTotalElementCount(),preview:w.createPreview(this.rows)};return this.dispatchJsonDataReadyEvent(t),this.debugMode&&console.log("\u{1F4CB} Form JSON data prepared:",{hasFormElement:!!this.formElement,rows:this.rows.length,elements:t.elementCount,preview:t.preview}),t}catch(e){throw console.error("\u274C Error preparing form JSON data:",e),e}}fromJSON(e){try{if(!e)throw new Error("JSON data is required");let t,r=null;if(Array.isArray(e))t=e,r=null;else if(e.rows&&Array.isArray(e.rows))t=e.rows,r=e.formElement||null,this.debugMode&&console.log("\u{1F4E5} Loading form with metadata:",{version:e.version,metadata:e.metadata,hasFormElement:!!r,rowCount:t.length});else throw new Error("Invalid JSON format: expected array of rows or object with rows property");if(!Array.isArray(t))throw new Error("Invalid data: rows must be an array");this.formElement=r,this.rows=t,this.updateCountersFromExistingData(),this.selectedElement=null,this.showNoSelectionPanel(),this.render(),this.emit("form:changed",this.rows),this.debugMode&&console.log("\u2705 Form loaded from JSON:",{rows:this.rows.length,elements:this.getTotalElementCount(),preview:w.createPreview(this.rows)}),this.dispatchFormImportedEvent(e)}catch(t){console.error("\u274C Error loading form from JSON:",t);const r=t instanceof Error?t.message:"Unknown error occurred";throw alert(`Failed to load form: ${r}`),t}}dispatchJsonDataReadyEvent(e){const t=new CustomEvent(x.JSON_DATA_READY,{detail:{formBuilder:this,jsonData:e,timestamp:new Date().toISOString()},bubbles:!0,cancelable:!1});this.container.dispatchEvent(t),this.debugMode&&console.log("\u{1F4E4} JSON data ready event dispatched:",{eventType:x.JSON_DATA_READY,target:this.container,dataSize:JSON.stringify(e).length})}getTotalElementCount(){let e=0;for(const t of this.rows)for(const r of t.columns)e+=r.fields.length;return e}isFormBuilderLoaded(){return this.isLoaded}getFormBuilderInstance(){return this}showNoSelectionPanel(){this.propertiesPanel&&(this.propertiesPanel.innerHTML=`
                <h3>Properties</h3>
                <div class="properties-content">
                    <p class="no-selection">Select an element to edit its properties</p>
                </div>
            `)}dispatchFormImportedEvent(e){const t=new CustomEvent(x.FORM_IMPORTED,{detail:{formBuilder:this,importedData:e,timestamp:new Date().toISOString()},bubbles:!0,cancelable:!1});this.container.dispatchEvent(t),this.debugMode&&console.log("\u{1F4E5} Form imported event dispatched:",{eventType:x.FORM_IMPORTED,target:this.container,dataSize:JSON.stringify(e).length})}async importFromJSON(e){try{let t=e;if(!t){const s=document.createElement("input");return s.type="file",s.accept=".json",s.style.display="none",new Promise((l,i)=>{s.onchange=async o=>{const d=o.target;if(document.body.removeChild(s),d.files?.[0])try{await this.importFromJSON(d.files[0]),l()}catch(c){i(c)}else i(new Error("No file selected"))},s.oncancel=()=>{document.body.removeChild(s),i(new Error("File selection cancelled"))},document.body.appendChild(s),s.click()})}const r=await t.text(),a=w.import(r);if(this.importForm(a),this.debugMode){const s=Array.isArray(a)?w.createPreview(a):w.createPreview(a.rows);console.log("\u{1F4E4} Form imported from JSON:",{hasFormElement:Array.isArray(a)?!1:!!a.formElement,rows:Array.isArray(a)?a.length:a.rows.length,preview:s})}const n=Array.isArray(a)?w.createPreview(a):w.createPreview(a.rows);alert(`Form imported successfully! ${n}`)}catch(t){console.error("\u274C Error importing form:",t),alert("Error importing form. Please check the file format and try again.")}}clearForm(){if(this.debugMode&&console.log("\u{1F5D1}\uFE0F Clear form called - current rows:",this.rows.length),this.rows.length===0){alert("Form is already empty.");return}confirm("Are you sure you want to clear the entire form? This action cannot be undone.")&&(this.debugMode&&console.log("\u{1F5D1}\uFE0F Clearing form - before clear:",{rows:this.rows.length,formElement:this.formElement?.id}),this.rows=[],this.formElement=null,this.resetElementCounters(),this.propertyPanelInstance.hideProperties(),this.render(),this.emitFormChange(),this.debugMode&&console.log("\u{1F5D1}\uFE0F Form cleared completely - no form element"))}async generateHTML(e="basic",t={}){return new q(e).generateForm(this.rows,t)}async generatePreview(e="basic",t={}){return new q(e).generatePreview(this.rows,t)}async downloadHTML(e="basic",t,r={}){try{const a=await this.generateHTML(e,r),n=new Blob([a],{type:"text/html"}),s=URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download=t||`form-${e}.html`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s),this.debugMode&&console.log(`\u{1F4E5} HTML downloaded as ${e} format:`,t)}catch(a){console.error("\u274C Error downloading HTML:",a),alert("Error generating HTML. Please try again.")}}async downloadPreview(e="basic",t,r={}){try{const a=await this.generatePreview(e,r),n=new Blob([a],{type:"text/html"}),s=URL.createObjectURL(n),l=document.createElement("a");l.href=s,l.download=t||`preview-${e}.html`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s),this.debugMode&&console.log(`\u{1F4E5} Preview downloaded as ${e} format:`,t)}catch(a){console.error("\u274C Error downloading preview:",a),alert("Error generating preview. Please try again.")}}setDebugMode(e){this.debugMode=e,this.debugMode?console.log("\u{1F41B} Debug mode enabled"):console.log("\u2705 Debug mode disabled")}getFormData(){return JSON.parse(JSON.stringify(this.rows))}setFormData(e){this.rows=e,this.render(),this.propertyPanelInstance.hideProperties(),this.emitFormChange()}onFormChange(e){this.on("form-changed",e)}offFormChange(e){this.off("form-changed",e)}emitFormChange(){this.emit("form-changed",this.getFormData())}render(){const e=this.scopedDOM.getElementById(this.scopedDOM.getScopedId("dropZone"));if(!e)return;let t="";if(this.formElement&&(t+=this.renderFormElementHtml()),this.rows.length===0&&!this.formElement){e.innerHTML=`
                <div class="drop-zone-placeholder">
                    <p>Drag elements to create rows and columns</p>
                </div>
            `;const r=e.querySelector("#createRowBtn");r&&r.addEventListener("click",()=>{console.log("Creating new row..."),this.createRow()}),this.dragDropManager.refresh();return}this.rows.length>0&&(t+=this.rows.map((r,a)=>this.renderRowHtml(r,a)).join("")),this.formElement&&this.rows.length===0&&(t+=`
                <div class="drop-zone-placeholder" style="margin-top: 1rem;">
                    <p>Drag elements to add form fields</p>
                </div>
            `),e.innerHTML=t,this.attachRowEventListeners(),this.dragDropManager.refresh()}renderFormElementHtml(){if(!this.formElement)return"";const e=this.debugMode?` (ID: ${this.formElement.id})`:"",t=this.formElement.properties?.name||"Form",r="\u{1F4CB}";return`
            <div class="form-element-container" data-element-id="${this.formElement.id}" data-element-type="form">
                <div class="element-header">
                    <div class="header-left">
                        <span class="element-icon">${r}</span>
                        <span class="element-title">${t}${e}</span>
                    </div>
                    <div class="header-right">
                        <button class="header-btn delete-element-btn" data-element-id="${this.formElement.id}" data-element-type="form" title="Remove Form">
                            \u{1F5D1}\uFE0F
                        </button>
                        <button class="header-btn settings-btn" data-element-id="${this.formElement.id}" title="Form Settings">
                            \u2699\uFE0F
                        </button>
                    </div>
                </div>
                <div class="form-element-content">
                    <div class="form-element-preview">
                        <div class="form-element-icon">${r}</div>
                        <div class="form-element-info">
                            <h4>${t}</h4>
                            <div class="form-element-properties">
                                <span><strong>ID:</strong> ${this.formElement.properties?.id||"form"}</span>
                                <span><strong>Name:</strong> ${this.formElement.properties?.name||"(not set)"}</span>
                                <span><strong>Method:</strong> ${this.formElement.properties?.method||"post"}</span>
                                <span><strong>Action:</strong> ${this.formElement.properties?.action||"(not set)"}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `}renderRowHtml(e,t){const r=e.columns.map((n,s)=>this.renderColumnHtml(n,t,s)).join(""),a=this.debugMode?` (ID: ${e.id})`:"";return`
            <div class="form-row drop-zone" data-row-id="${e.id}" data-element-id="${e.id}" data-element-type="row">
                <div class="element-header">
                    <div class="header-left">
                        <span class="element-icon">\u{1F4D0}</span>
                        <span class="element-title">Linha (${t+1})${a}</span>
                    </div>
                    <div class="header-right">
                        <button class="header-btn delete-element-btn" data-element-id="${e.id}" data-element-type="row" title="Excluir Linha">
                            \u{1F5D1}\uFE0F
                        </button>
                        <button class="header-btn add-column-btn" data-row-id="${e.id}" title="Adicionar Coluna">
                            \u2795
                        </button>
                        <button class="header-btn drag-handle-btn" data-element-id="${e.id}" data-element-type="row" title="Mover Linha" draggable="true">
                            \u{1F579}\uFE0F
                        </button>
                    </div>
                </div>
                <div class="row-content">
                    ${r}
                </div>
            </div>
        `}renderColumnHtml(e,t,r){const a=e.fields.map((s,l)=>this.renderFieldHtml(s,t,r,l)).join(""),n=this.debugMode?` (${e.width}/12) - ID: ${e.id}`:"";return`
            <div class="form-column col-${e.width}" data-element-id="${e.id}" data-element-type="column">
                <div class="element-header">
                    <div class="header-left">
                        <span class="element-icon">\u{1F4CF}</span>
                        <span class="element-title">Coluna (${t+1},${r+1})${n}</span>
                    </div>
                    <div class="header-right">
                        <button class="header-btn delete-element-btn" data-element-id="${e.id}" data-element-type="column" title="Excluir Coluna">
                            \u{1F5D1}\uFE0F
                        </button>
                        <button class="header-btn drag-handle-btn" data-element-id="${e.id}" data-element-type="column" title="Mover Coluna" draggable="true">
                            \u{1F579}\uFE0F
                        </button>
                    </div>
                </div>
                <div class="column-content drop-zone-column">
                    ${a||'<div class="column-placeholder">Drop campos aqui</div>'}
                </div>
            </div>
        `}renderFieldHtml(e,t,r,a){const n=this.elementRegistry.get(e.elementRegistryId);if(!n)return"";const s=this.debugMode?` - ID: ${e.id}`:"";return`
            <div class="form-field" data-element-id="${e.id}" data-element-type="field">
                <div class="element-header">
                    <div class="header-left">
                        <span class="element-icon">${n.icon}</span>
                        <span class="element-title">${n.label} (${t+1},${r+1},${a+1})${s}</span>
                    </div>
                    <div class="header-right">
                        <button class="header-btn delete-element-btn" data-element-id="${e.id}" data-element-type="field" title="Excluir Campo">
                            \u{1F5D1}\uFE0F
                        </button>
                        <button class="header-btn settings-btn" data-element-id="${e.id}" title="Propriedades do Campo">
                            \u2699\uFE0F
                        </button>
                        <button class="header-btn drag-handle-btn" data-element-id="${e.id}" data-element-type="field" title="Mover Campo" draggable="true">
                            \u{1F579}\uFE0F
                        </button>
                    </div>
                </div>
                <div class="field-content">
                    ${this.generateFieldPreview(e,n)}
                </div>
            </div>
        `}generateFieldPreview(e,t){return console.log("\u{1F3A8} ================================="),console.log("\u{1F3A8} generateFieldPreview CHAMADO!"),console.log("\u{1F3A8} Field ID:",e.id),console.log("\u{1F3A8} Field Type:",e.htmlTag),console.log("\u{1F3A8} Config encontrada:",!!t),console.log("\u{1F3A8} PreviewRenderer existe:",!!this.previewRenderer),console.log("\u{1F3A8} ================================="),this.previewRenderer.renderField(e,{includeLabels:!0,includeWrapper:!1})}populateToolbox(){const e=this.findById(this.scopedDOM.getScopedId("elementsList"));if(!e)return;const r=this.elementRegistry.getAll().reduce((s,l)=>{const i=l.category||"other";return s[i]||(s[i]=[]),s[i].push(l),s},{}),a=["layout","form","content","media","other"],n={layout:"Layout",form:"Form Controls",content:"Content",media:"Media",other:"Other"};e.innerHTML=a.filter(s=>r[s]&&r[s].length>0).map((s,l)=>`
                <div class="elements-category">
                    <div class="category-header" data-category="${s}">
                        <span>${n[s]||s}</span>
                        <span class="category-toggle expanded">\u25B6</span>
                    </div>
                    <div class="elements-list expanded" data-category-content="${s}">
                        ${(r[s]||[]).map(i=>`
                            <div class="element-item" 
                                 data-element-type="${i.id}" 
                                 draggable="true"
                                 title="${i.label}">
                                <div class="element-icon">${i.icon}</div>
                                <div class="element-label">${i.label}</div>
                            </div>
                        `).join("")}
                    </div>
                </div>
            `).join(""),this.setupCategoryToggle()}setupCategoryToggle(){this.findElements(".category-header").forEach(t=>{t.addEventListener("click",r=>{const a=t.getAttribute("data-category"),n=t.querySelector(".category-toggle"),s=this.findElement(`[data-category-content="${a}"]`);s&&n&&(n.classList.contains("expanded")?(n.classList.remove("expanded"),s.classList.remove("expanded")):(n.classList.add("expanded"),s.classList.add("expanded")))})})}clear(){this.rows=[],this.render()}createRow(){const e=this.generateUniqueId("row"),t=this.generateUniqueId("column"),r={id:e,columns:[{id:t,width:12,fields:[],properties:{id:t}}],properties:{id:e}};this.rows.push(r),this.render(),console.log("Row created, total rows:",this.rows.length)}testAddColumn(){console.log("testAddColumn called"),this.rows.length>0&&this.rows[0]?(console.log("Testing with first row:",this.rows[0].id),this.addColumnToRowById(this.rows[0].id)):console.log("No rows available for testing")}addColumnToRow(){if(this.rows.length===0){this.createRow();return}const e=this.rows[0];if(!e)return;const t=this.generateUniqueId("column"),r={id:t,width:Math.floor(12/(e.columns.length+1)),fields:[],properties:{id:t}},a=Math.floor(12/(e.columns.length+1));e.columns.forEach(n=>n.width=a),e.columns.push(r),this.render()}createField(e){this.rows.length===0&&this.createRow();const t=this.rows[0];if(!t||t.columns.length===0)return;const r=t.columns[0];if(!r)return;const a=this.elementRegistry.get(e);if(!a)return;const n={};if(a.properties)for(const[u,p]of Object.entries(a.properties))n[u]=p.defaultValue||"";const s={};if(a.meta)for(const[u,p]of Object.entries(a.meta))s[u]=p.defaultValue||"";e==="h1"&&console.log("Creating H1 field with meta:",{configMeta:a.meta,extractedMeta:s,metaKeys:Object.keys(s)});const l={};if(a.events)for(const[u,p]of Object.entries(a.events))l[u]=p.defaultValue||{action:"",target:"vanilla",parameters:{}};const i={};if(a.alpine)for(const[u,p]of Object.entries(a.alpine))i[u]=p.defaultValue||"";const o=b.generateId(),d=this.generateUniqueId(e);this.isFormElement(e)&&a.meta?.label&&(s.label=d);const c={id:o,elementRegistryId:e,htmlTag:a.htmlTag,properties:{...n,id:d,name:a.properties?.name?d:void 0},meta:s,events:l,alpine:i};r.fields.push(c),this.render()}moveElement(e,t){console.log("Moving element:",e,t)}renderRow(e){this.render()}attachRowEventListeners(){console.log("Attaching row event listeners..."),this.canvasClickHandler&&this.scopedDOM.removeEventListener("click",this.canvasClickHandler),this.canvasClickHandler=t=>{const r=t.target,a=r.closest(".add-column-btn");if(a){console.log("Add column button clicked!",a),this.debugMode&&console.log("Adding column to row"),t.preventDefault(),t.stopPropagation();const n=a.dataset.rowId;n?this.addColumnToRowById(n):console.error("No rowId found in button dataset")}else{const n=r.closest(".delete-element-btn"),s=r.closest(".settings-btn");if(n){t.preventDefault();const l=n.dataset.elementId;l&&this.deleteElement(l)}else if(s){t.preventDefault();const l=s.dataset.elementId;l&&this.selectElement(l)}else{const l=r.closest("[data-element-id]");if(l){const i=l.dataset.elementType;if(l.classList.contains("form-column")||l.classList.contains("column-placeholder")||l.classList.contains("form-column-placeholder"))return;i==="field"?(t.preventDefault(),this.selectElement(l.dataset.elementId)):i==="form"?(t.preventDefault(),this.selectElement(l.dataset.elementId)):(i==="row"||i==="column")&&this.selectElement(l.dataset.elementId)}}}},this.scopedDOM.addEventListener("click",this.canvasClickHandler),this.scopedDOM.querySelectorAll(".add-column-btn").forEach(t=>{t.addEventListener("click",r=>{r.preventDefault(),r.stopPropagation();const a=t.dataset.rowId;a&&this.addColumnToRowById(a)})})}addColumnToRowById(e){console.log("addColumnToRowById called with rowId:",e);const t=this.rows.find(o=>o.id===e);if(!t){console.warn("Row not found:",e),console.log("Available rows:",this.rows.map(o=>o.id));return}if(console.log("Row found:",t),t.columns.length>=12){console.warn("Cannot add more than 12 columns to a row"),alert("N\xE3o \xE9 poss\xEDvel adicionar mais de 12 colunas em uma linha!");return}const r=t.columns.length,a=r+1,n=Math.floor(12/a),s=12%a;console.log(`Adding column to row ${e}. Current: ${r}, New total: ${a}`);const l=this.generateUniqueId("column"),i={id:l,width:n+(r<s?1:0),fields:[],properties:{id:l}};console.log("New column created:",i),t.columns.forEach((o,d)=>{o.width=n+(d<s?1:0)}),t.columns.push(i),console.log(`Column added successfully. Row ${e} now has ${t.columns.length} columns`),this.render(),console.log("Re-render completed")}selectElement(e){if(this.formElement&&this.formElement.id===e){this.selectedElement=this.formElement;const r=this.elementRegistry.get("form");r&&this.propertyPanelInstance.showProperties(this.formElement,r,"form");return}let t=null;for(const r of this.rows){if(r.id===e){t=r;break}for(const a of r.columns){if(a.id===e){t=a;break}for(const n of a.fields)if(n.id===e){t=n;break}if(t)break}if(t)break}if(t){this.selectedElement=t;let r="";"elementRegistryId"in t&&t.elementRegistryId?r=t.elementRegistryId:"columns"in t?r="row":"fields"in t&&(r="column");const a=this.elementRegistry.get(r);if(a){const n=r==="row"?"row":r==="column"?"column":"field";a.category==="content"&&(console.log("=== FormBuilder selecting content element ==="),console.log("ElementType:",r),console.log("ElementTypeEnum:",n),console.log("Config category:",a.category),console.log("Config has meta:",!!a.meta),console.log("Meta keys:",a.meta?Object.keys(a.meta):"none")),this.propertyPanelInstance.showProperties(t,a,n)}}else console.warn("Element not found:",e)}createElement(e,t){return this.createElementPrivate(e,t)}createElementPrivate(e,t){if(console.log("Creating element:",e),!this.elementRegistry.get(e)){console.error("Element type not found:",e);return}e==="row"?this.createRow():e==="column"?this.addColumnToRow():this.createField(e)}moveRow(e,t,r){this.debugMode&&console.log("Moving row:",e);const a=this.rows.findIndex(i=>i.id===e);if(a===-1){console.warn("Row not found for moving:",e);return}const n=this.rows[a];if(!n)return;const s=t.closest(".form-canvas"),l=t.closest(".form-row");if(s&&!l){const i=s.getBoundingClientRect(),o=r?.clientY||0,d=i.height,c=o-i.top;this.rows.splice(a,1);let u=0;c>d*.8?u=this.rows.length:c<d*.2?u=0:u=Math.floor(this.rows.length/2),this.rows.splice(u,0,n),this.render(),this.emitFormChange(),this.debugMode&&console.log(`Row moved to canvas position ${u}`);return}if(l){const i=l.dataset.rowId,o=this.rows.findIndex(d=>d.id===i);if(o!==-1&&o!==a){this.rows.splice(a,1);const d=a<o?o-1:o;let c=d;if(r){const u=l.getBoundingClientRect(),p=r.clientY,f=u.height,E=p-u.top;E<f*.3?c=d:E>f*.7?c=d+1:c=d}this.rows.splice(c,0,n),this.render(),this.emitFormChange(),this.debugMode&&console.log(`Row moved from index ${a} to ${c}`)}}}moveColumn(e,t){this.debugMode&&console.log("Moving column:",e);let r=null,a=-1,n=null;for(const i of this.rows){const o=i.columns.findIndex(d=>d.id===e);if(o!==-1){r=i,a=o;const d=i.columns[o];d&&(n=d);break}}if(!n||!r){console.warn("Column not found for moving:",e);return}const s=t.closest(".form-column"),l=t.closest(".form-row");if(s){const i=s.dataset.elementId;for(const o of this.rows){const d=o.columns.findIndex(c=>c.id===i);if(d!==-1){r.columns.splice(a,1);const c=s.getBoundingClientRect(),f=(event instanceof DragEvent?event.clientX:0)>c.left+c.width/2?d+1:d;o.columns.splice(f,0,n),this.redistributeColumnWidths(r),o!==r&&this.redistributeColumnWidths(o),this.render(),this.debugMode&&console.log(`Column moved to row ${o.id} at index ${f}`);break}}}else if(l){const i=l.dataset.rowId,o=this.rows.find(d=>d.id===i);o&&o!==r&&(r.columns.splice(a,1),o.columns.push(n),this.redistributeColumnWidths(r),this.redistributeColumnWidths(o),this.render(),this.debugMode&&console.log(`Column moved to end of row ${i}`))}}moveField(e,t){this.debugMode&&console.log("Moving field:",e);let r=null,a=-1,n=null;for(const l of this.rows){for(const i of l.columns){const o=i.fields.findIndex(d=>d.id===e);if(o!==-1){r=i,a=o;const d=i.fields[o];d&&(n=d);break}}if(n)break}if(!n||!r){console.warn("Field not found for moving:",e);return}const s=t.closest(".form-column");if(s){const l=s.dataset.elementId;for(const i of this.rows)for(const o of i.columns)if(o.id===l){r.fields.splice(a,1),o.fields.push(n),this.render(),this.debugMode&&console.log(`Field moved to column ${l}`);return}}}redistributeColumnWidths(e){const t=e.columns.length;if(t===0)return;const r=Math.floor(12/t),a=12%t;e.columns.forEach((n,s)=>{n.width=r+(s<a?1:0)})}getScopeDebugInfo(){return{...this.scopedDOM.getDebugInfo(),formBuilderInfo:{rowsCount:this.rows.length,totalElements:this.getTotalElementCount(),isLoaded:this.isLoaded,debugMode:this.debugMode}}}isElementInScope(e){return this.scopedDOM.isInScope(e)}getContainer(){return this.scopedDOM.getContainer()}getScopeId(){return this.scopedDOM.getScopeId()}destroy(){this.scopedDOM.cleanup(),this.rows=[],this.selectedElement=null,this.isLoaded=!1,this.container.removeAttribute("data-formbuilder-scope"),this.container.removeAttribute("data-fb-version"),this.container.removeAttribute("data-fb-initialized"),console.log("\u{1F9F9} FormBuilder destroyed and cleaned up")}}const B="0.1.0",J={name:"AstraSmartForm",version:B,description:"Professional drag-and-drop form builder with TypeScript support by Astra Dev",author:"Astra Dev",license:"MIT",repository:"https://github.com/astradevio/astra-smartform",documentation:"https://docs.astradev.io/smartform"};m.AstraFormBuilder=N,m.BaseRenderer=S,m.BasicRenderer=O,m.BootstrapRenderer=R,m.DragDropManager=F,m.ElementRegistry=v,m.FormBuilder=N,m.JSONExporter=w,m.LIBRARY_INFO=J,m.PreviewRenderer=M,m.PropertyPanel=L,m.RendererFactory=V,m.ScopedDOMManager=P,m.TailwindRenderer=H,m.Utils=b,m.VERSION=B,Object.defineProperty(m,"__esModule",{value:!0})});
//# sourceMappingURL=astra-form-builder.bundle.min.js.map
